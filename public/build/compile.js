var clioCompiler=function(exports){"use strict";function normalizeArray(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(e){return splitPathRe.exec(e).slice(1)};function resolve(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=normalizeArray(filter(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function normalize(e){var t=isAbsolute(e),r="/"===substr(e,-1);return(e=normalizeArray(filter(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function isAbsolute(e){return"/"===e.charAt(0)}function join$1(){var e=Array.prototype.slice.call(arguments,0);return normalize(filter(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function relative(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=resolve(e).substr(1),t=resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),s=Math.min(n.length,i.length),o=s,a=0;a<s;a++)if(n[a]!==i[a]){o=a;break}var l=[];for(a=o;a<n.length;a++)l.push("..");return(l=l.concat(i.slice(o))).join("/")}var sep="/",delimiter=":";function dirname(e){var t=splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."}function basename(e,t){var r=splitPath(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}function extname(e){return splitPath(e)[3]}var _polyfillNode_path={extname:extname,basename:basename,dirname:dirname,sep:sep,delimiter:delimiter,relative:relative,join:join$1,isAbsolute:isAbsolute,normalize:normalize,resolve:resolve};function filter(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var substr="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)},_polyfillNode_path$1=Object.freeze({__proto__:null,resolve:resolve,normalize:normalize,isAbsolute:isAbsolute,join:join$1,relative:relative,sep:sep,delimiter:delimiter,dirname:dirname,basename:basename,extname:extname,default:_polyfillNode_path});const AsyncResource=null,createHook=null,fork=null,Worker=null,createServer=null,connect=null,fileURLToPath=e=>e.replace(/^.*?:\/\//,""),readFileSync=null,writeFileSync=null,existsSync=null,rmSync=null,execSync=null,parse$3=null,spawn=null,mkdirSync=null,statSync=null,json=null;var shim=Object.freeze({__proto__:null,AsyncResource:AsyncResource,createHook:createHook,fork:fork,Worker:Worker,createServer:createServer,connect:connect,fileURLToPath:fileURLToPath,readFileSync:readFileSync,writeFileSync:writeFileSync,existsSync:existsSync,rmSync:rmSync,execSync:execSync,parse:parse$3,spawn:spawn,mkdirSync:mkdirSync,statSync:statSync,json:json}),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var parse$2={exports:{}},tomlParser={exports:{}};const ParserEND=1114112;class ParserError extends Error{constructor(e,t,r){super("[ParserError] "+e,t,r),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}class State{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class Parser{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State(this.parseStart)}parse(e){if(0===e.length||null==e.length)return;let t;for(this._buf=String(e),this.ii=-1,this.char=-1;!1===t||this.nextChar();)t=this.runOne();this._buf=null}nextChar(){return 10===this.char&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){let e;this.char=ParserEND;do{e=this.state.parser,this.runOne()}while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if("function"!=typeof e)throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,t){t&&this.next(t),this.stack.push(this.state),this.state=new State(e)}callNow(e,t){return this.call(e,t),this.runOne()}return(e){if(0===this.stack.length)throw this.error(new ParserError("Stack underflow"));void 0===e&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new ParserError("Must declare a parseStart method")}}Parser.END=ParserEND,Parser.Error=ParserError;var parser=Parser,createDatetime=e=>{const t=new Date(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t},formatNum=(e,t)=>{for(t=String(t);t.length<e;)t="0"+t;return t};const f$2=formatNum;class FloatingDateTime extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){return`${`${this.getUTCFullYear()}-${f$2(2,this.getUTCMonth()+1)}-${f$2(2,this.getUTCDate())}`}T${`${f$2(2,this.getUTCHours())}:${f$2(2,this.getUTCMinutes())}:${f$2(2,this.getUTCSeconds())}.${f$2(3,this.getUTCMilliseconds())}`}`}}var createDatetimeFloat=e=>{const t=new FloatingDateTime(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t};const f$1=formatNum,DateTime=commonjsGlobal.Date;class Date$1 extends DateTime{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`}}var createDate$1=e=>{const t=new Date$1(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t};const f=formatNum;class Time extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${f(2,this.getUTCHours())}:${f(2,this.getUTCMinutes())}:${f(2,this.getUTCSeconds())}.${f(3,this.getUTCMilliseconds())}`}}var createTime$1=e=>{const t=new Time(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t};tomlParser.exports=makeParserClass(parser),tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=e=>{const t=new TomlError(e.message);return t.code=e.code,t.wrapped=e,t},tomlParser.exports.TomlError=TomlError;const createDateTime=createDatetime,createDateTimeFloat=createDatetimeFloat,createDate=createDate$1,createTime=createTime$1,CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"\t",[CHAR_n]:"\n",[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(e){return e>=CHAR_0&&e<=CHAR_9}function isHexit(e){return e>=CHAR_A&&e<=CHAR_F||e>=CHAR_a&&e<=CHAR_f||e>=CHAR_0&&e<=CHAR_9}function isBit(e){return e===CHAR_1||e===CHAR_0}function isOctit(e){return e>=CHAR_0&&e<=CHAR_7}function isAlphaNumQuoteHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_APOS||e===CHAR_QUOT||e===CHAR_LOWBAR||e===CHAR_HYPHEN}function isAlphaNumHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_LOWBAR||e===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty$1=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(e,t){return!!hasOwnProperty$1.call(e,t)||("__proto__"===t&&defineProperty(e,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(e){return null!==e&&"object"==typeof e&&e[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(e){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:e}})}function isInlineList(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_LIST}const LIST=Symbol("list");function List$1(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(e){return null!==e&&"object"==typeof e&&e[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(e){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(e){try{this.value=commonjsGlobal.BigInt.asIntN(64,e)}catch(e){this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return null===this.value}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(e){let t=Number(e);return Object.is(t,-0)&&(t=0),commonjsGlobal.BigInt&&!Number.isSafeInteger(t)?new BoxedBigInt(e):Object.defineProperties(new Number(t),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${e}]`}})}function isInteger(e){return null!==e&&"object"==typeof e&&e[_type]===INTEGER}const FLOAT=Symbol("float");function Float(e){return Object.defineProperties(new Number(e),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${e}]`}})}function isFloat(e){return null!==e&&"object"==typeof e&&e[_type]===FLOAT}function tomlType$1(e){const t=typeof e;if("object"===t){if(null===e)return"null";if(e instanceof Date)return"datetime";if(_type in e)switch(e[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return t}function makeParserClass(e){return class extends e{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===e.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===e.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===e.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(e){let t=this.ctx,r=e.key.pop();for(let r of e.key){if(hasKey(t,r)&&(!isTable(t[r])||t[r][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[r]=t[r]||Table()}if(hasKey(t,r))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[r]=e.value.valueOf():t[r]=e.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(e){return this.state.resultTable?this.state.resultTable.push(e):this.state.resultTable=[e],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){return this.char===CHAR_PERIOD?this.next(this.parseAssignKeywordPostDot):this.char!==CHAR_SP&&this.char!==CTRL_I?this.goto(this.parseAssignEqual):void 0}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(e){return this.returnNow({key:this.state.resultTable,value:e})}parseComment(){do{if(this.char===e.END||this.char===CTRL_J)return this.return()}while(this.nextChar())}parseTableOrList(){if(this.char!==CHAR_LSQB)return this.goto(this.parseTable);this.next(this.parseList)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)&&(!isTable(this.ctx[e])||this.ctx[e][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[e]=this.ctx[e]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e))if(isTable(this.ctx[e]))this.ctx=this.ctx[e];else{if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine existing key"));this.ctx=this.ctx[e][this.ctx[e].length-1]}else this.ctx=this.ctx[e]=Table();return this.next(this.parseTableNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)||(this.ctx[e]=List$1()),isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));{const t=Table();this.ctx[e].push(t),this.ctx=t}return this.next(this.parseListEnd)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e)){if(isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[e]))this.ctx=this.ctx[e][this.ctx[e].length-1];else{if(!isTable(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));this.ctx=this.ctx[e]}}else this.ctx=this.ctx[e]=Table();return this.next(this.parseListNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(e){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===e.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(e){return this.returnNow(e)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return"-"===this.state.buf?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===e.END)throw this.error(new TomlError("Key ended without value"));if(!isAlphaNumHyphen(this.char)){if(0===this.state.buf.length)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}this.consume()}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let e="\\u00";return this.char<16&&(e+="0"),e+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${e} instead`))}recordMultiEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(e){try{const t=parseInt(e,16);if(t>=SURROGATE_FIRST&&t<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(t))}catch(e){throw this.error(TomlError.wrap(e))}}parseSmallUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=4)return this.return()}parseLargeUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=8)return this.return()}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(!isDigit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberFloat):isDigit(this.char)?void this.consume():this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS)throw this.error(new TomlError("Unexpected character, expected -, + or digit"));this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent)}parseNumberExponent(){if(!isDigit(this.char))return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf));this.consume()}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberInteger):isDigit(this.char)?(this.consume(),void(this.state.buf.length>4&&this.next(this.parseNumberInteger))):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(!isHexit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerOct(){if(!isOctit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerBin(){if(!isBit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}this.consume()}parseTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));if(this.consume(),2===this.state.buf.length)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}this.consume()}parseOnlyTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete time"));if(this.consume(),2===this.state.buf.length)return this.next(this.parseOnlyTimeFractionMaybe)}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char!==CHAR_PERIOD)return this.return(createTime(this.state.result));this.state.buf="",this.next(this.parseOnlyTimeFraction)}parseOnlyTimeFraction(){if(!isDigit(this.char)){if(this.atEndOfWord()){if(0===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume()}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else{if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(1===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseTimeZoneHour(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}parseTimeZoneSep(){if(this.char!==CHAR_COLON)throw this.error(new TomlError("Unexpected character in datetime, expected colon"));this.consume(),this.next(this.parseTimeZoneMin)}parseTimeZoneMin(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}parseBoolean(){return this.char===CHAR_t?(this.consume(),this.next(this.parseTrue_r)):this.char===CHAR_f?(this.consume(),this.next(this.parseFalse_a)):void 0}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===e.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(e){if(this.state.resultArr){const t=this.state.resultArr[_contentType],r=tomlType$1(e);if(t!==r)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${t} and ${r}`))}else this.state.resultArr=InlineList(tomlType$1(e));return isFloat(e)||isInteger(e)?this.state.resultArr.push(e.valueOf()):this.state.resultArr.push(e),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(e){let t=this.state.resultTable,r=e.key.pop();for(let r of e.key){if(hasKey(t,r)&&(!isTable(t[r])||t[r][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[r]=t[r]||Table()}if(hasKey(t,r))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[r]=e.value.valueOf():t[r]=e.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}}var parsePrettyError=prettyError$2;function prettyError$2(e,t){if(null==e.pos||null==e.line)return e;let r=e.message;if(r+=` at row ${e.line+1}, col ${e.col+1}, pos ${e.pos}:\n`,t&&t.split){const n=t.split(/\n/),i=String(Math.min(n.length,e.line+3)).length;let s=" ";for(;s.length<i;)s+=" ";for(let t=Math.max(0,e.line-1);t<Math.min(n.length,e.line+2);++t){let o=String(t+1);if(o.length<i&&(o=" "+o),e.line===t){r+=o+"> "+n[t]+"\n",r+=s+"  ";for(let t=0;t<e.col;++t)r+=" ";r+="^\n"}else r+=o+": "+n[t]+"\n"}}return e.message=r+"\n",e}var parseString_1=parseString;const TOMLParser$2=tomlParser.exports,prettyError$1=parsePrettyError;function parseString(e){commonjsGlobal.Buffer&&commonjsGlobal.Buffer.isBuffer(e)&&(e=e.toString("utf8"));const t=new TOMLParser$2;try{return t.parse(e),t.finish()}catch(t){throw prettyError$1(t,e)}}var parseAsync_1=parseAsync;const TOMLParser$1=tomlParser.exports,prettyError=parsePrettyError;function parseAsync(e,t){t||(t={});const r=t.blocksize||40960,n=new TOMLParser$1;return new Promise(((e,t)=>{setImmediate(i,0,r,e,t)}));function i(t,r,s,o){if(t>=e.length)try{return s(n.finish())}catch(t){return o(prettyError(t,e))}try{n.parse(e.slice(t,t+r)),setImmediate(i,t+r,r,s,o)}catch(t){o(prettyError(t,e))}}}var domain;function EventHandlers(){}function EventEmitter(){EventEmitter.init.call(this)}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,r){if(t)e.call(r);else for(var n=e.length,i=arrayClone(e,n),s=0;s<n;++s)i[s].call(r)}function emitOne(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].call(r,n)}function emitTwo(e,t,r,n,i){if(t)e.call(r,n,i);else for(var s=e.length,o=arrayClone(e,s),a=0;a<s;++a)o[a].call(r,n,i)}function emitThree(e,t,r,n,i,s){if(t)e.call(r,n,i,s);else for(var o=e.length,a=arrayClone(e,o),l=0;l<o;++l)a[l].call(r,n,i,s)}function emitMany(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].apply(r,n)}function _addListener(e,t,r,n){var i,s,o;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]):(s=e._events=new EventHandlers,e._eventsCount=0),o){if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=$getMaxListeners(e))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,emitWarning(a)}}else o=s[t]=r,++e._eventsCount;return e}function emitWarning(e){"function"==typeof console.warn?console.warn(e):console.log(e)}function _onceWrap(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function listenerCount$1(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function spliceOne(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function arrayClone(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}EventHandlers.prototype=Object.create(null),EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&domain.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,r,n,i,s,o,a,l="error"===e;if(o=this._events)l=l&&null==o.error;else if(!l)return!1;if(a=this.domain,l){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=o[e]))return!1;var u="function"==typeof r;switch(n=arguments.length){case 1:emitNone(r,u,this);break;case 2:emitOne(r,u,this,arguments[1]);break;case 3:emitTwo(r,u,this,arguments[1],arguments[2]);break;case 4:emitThree(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),s=1;s<n;s++)i[s-1]=arguments[s];emitMany(r,u,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var r,n,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new EventHandlers:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new EventHandlers,this;delete n[e]}else spliceOne(r,i);n.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.off=function(e,t){return this.removeListener(e,t)},EventEmitter.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new EventHandlers,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new EventHandlers:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),s=0;s<i.length;++s)"removeListener"!==(n=i[s])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},EventEmitter.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:unwrapListeners(t):[]},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount$1.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount$1,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var global$1=void 0!==global$1?global$1:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)lookup[t]=e[t],revLookup[e.charCodeAt(t)]=t;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(e){var t,r,n,i,s,o;inited||init();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[a-2]?2:"="===e[a-1]?1:0,o=new Arr(3*a/4-s),n=s>0?a-4:a;var l=0;for(t=0,r=0;t<n;t+=4,r+=3)i=revLookup[e.charCodeAt(t)]<<18|revLookup[e.charCodeAt(t+1)]<<12|revLookup[e.charCodeAt(t+2)]<<6|revLookup[e.charCodeAt(t+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===s?(i=revLookup[e.charCodeAt(t)]<<2|revLookup[e.charCodeAt(t+1)]>>4,o[l++]=255&i):1===s&&(i=revLookup[e.charCodeAt(t)]<<10|revLookup[e.charCodeAt(t+1)]<<4|revLookup[e.charCodeAt(t+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){var t;inited||init();for(var r=e.length,n=r%3,i="",s=[],o=16383,a=0,l=r-n;a<l;a+=o)s.push(encodeChunk(e,a,a+o>l?l:a+o));return 1===n?(t=e[r-1],i+=lookup[t>>2],i+=lookup[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=lookup[t>>10],i+=lookup[t>>4&63],i+=lookup[t<<2&63],i+="="),s.push(i),s.join("")}function read(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,p=r?-1:1,f=e[t+h];for(h+=p,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+h],h+=p,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=p,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=c}return(f?-1:1)*o*Math.pow(2,s-n)}function write(e,t,r,n,i,s){var o,a,l,c=8*s-i-1,u=(1<<c)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=d,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+f]=255&o,f+=d,o/=256,c-=8);e[r+f-d]|=128*m}var toString={}.toString,isArray$3=Array.isArray||function(e){return"[object Array]"==toString.call(e)},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString(e,t,r):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromString(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r),i=(e=createBuffer(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t),e}function fromObject(e,t){if(internalIsBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&isArray$3(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function internalIsBuffer(e){return!(null==e||!e._isBuffer)}function byteLength(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){for(var h=!0,p=0;p<l;p++)if(c(e,s+p)!==c(t,p)){h=!1;break}if(h)return s}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?fromByteArray(e):fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(s=e[i+1]))&&(l=(31&c)<<6|63&s)>127&&(u=l);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(l=(15&c)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(l=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return decodeCodePointsArray(n)}Buffer.TYPED_ARRAY_SUPPORT=void 0===global$1.TYPED_ARRAY_SUPPORT||global$1.TYPED_ARRAY_SUPPORT,Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.alloc=function(e,t,r){return alloc(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=isBuffer,Buffer.compare=function(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!isArray$3(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!internalIsBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,i){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),a=Math.min(s,o),l=this.slice(n,i),c=e.slice(t,r),u=0;u<a;++u)if(l[u]!==c[u]){s=l[u],o=c[u];break}return s<o?-1:o<s?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=toHex(e[s]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,s){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,i){return i||checkIEEE754(e,t,r,4),write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,i){return i||checkIEEE754(e,t,r,8),write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;r=new Buffer(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},Buffer.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},Buffer.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=internalIsBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),a=o.length;for(s=0;s<r-t;++s)this[s+t]=o[s%a]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,s.push(i),s.push(n);return s}function base64ToBytes(e){return toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isnan(e){return e!=e}function isBuffer(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var performance=global$1.performance||{},inherits;performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow,inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits,formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(inspect(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(formatRegExp,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<i;o=n[++r])isNull(o)||!isObject(o)?s+=" "+o:s+=" "+inspect(o);return s}function deprecate(e,t){if(isUndefined(global$1.process))return function(){return deprecate(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(t)?r.showHidden=t:t&&_extend(r,t),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var r=inspect.styles[t];return r?"["+inspect.colors[r][0]+"m"+e+"["+inspect.colors[r][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}function formatValue(e,t,r){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return isString(n)||(n=formatValue(e,n,r)),n}var i=formatPrimitive(e,t);if(i)return i;var s=Object.keys(t),o=arrayToHash(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),isError(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return formatError(t);if(0===s.length){if(isFunction(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var l,c="",u=!1,h=["{","}"];(isArray$2(t)&&(u=!0,h=["[","]"]),isFunction(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return isRegExp(t)&&(c=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(c=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(c=" "+formatError(t)),0!==s.length||u&&0!=t.length?r<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=u?formatArray(e,t,r,o,s):s.map((function(n){return formatProperty(e,t,r,o,n,u)})),e.seen.pop(),reduceToSingleString(l,c,h)):h[0]+c+h[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return isNumber$1(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)hasOwnProperty(t,String(o))?s.push(formatProperty(e,t,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(formatProperty(e,t,r,n,i,!0))})),s}function formatProperty(e,t,r,n,i,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=isNull(r)?formatValue(e,l.value,null):formatValue(e,l.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),isUndefined(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function reduceToSingleString(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray$2(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber$1(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function _extend(e,t){if(!t||!isObject(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function BufferList(){this.head=null,this.tail=null,this.length=0}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},BufferList.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},BufferList.prototype.concat=function(e){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var t=Buffer.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function StringDecoder(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),e.copy(this.charBuffer,0,0,s),t.substring(0,n)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t},Readable.ReadableState=ReadableState;var debug=debuglog("stream");function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function listenerCount(e,t){return e.listeners(t).length}function ReadableState(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),EventEmitter.call(this)}function readableAddChunk(e,t,r,n,i){var s=chunkInvalid(t,r);if(s)e.emit("error",s);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var l;!t.decoder||i||n||(r=t.decoder.write(r),l=!t.objectMode&&0===r.length),i||(t.reading=!1),l||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e))),maybeReadMore(e,t)}else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}inherits$1(Readable,EventEmitter),Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=Buffer.from(e,t),t=""),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){return readableAddChunk(this,this._readableState,e,"",!0)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function chunkInvalid(e,t){var r=null;return Buffer.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,nextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r);var r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}function copyFromBuffer(e,t){var r=Buffer.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0===(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,nextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function nop(){}function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function WritableState(e,t){Object.defineProperty(this,"buffer",{get:deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(!(this instanceof Writable||this instanceof Duplex))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),EventEmitter.call(this)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),nextTick(t,r)}function validChunk(e,t,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):Buffer.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),nextTick(n,s),i=!1),i}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer.from(t,r)),t}function writeOrBuffer(e,t,r,n,i){r=decodeChunk(t,r,n),Buffer.isBuffer(r)&&(n="buffer");var s=t.objectMode?1:r.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,r,n,i);return o}function doWrite(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function onwriteError(e,t,r,n,i){--t.pendingcb,r?nextTick(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,n,t,i);else{var s=needFinish(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),n?nextTick(afterWrite,e,r,s,i):afterWrite(e,r,s,i)}}function afterWrite(e,t,r,n){r||onwriteDrain(e,t),t.pendingcb--,n(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;doWrite(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;r;){var a=r.chunk,l=r.encoding,c=r.callback;if(doWrite(e,t,!1,t.objectMode?1:a.length,a,l,c),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var r=needFinish(t);return r&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n,i=t.needReadable;return debug("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&debug("length less than watermark",i=!0),t.ended||t.reading?debug("reading or ended",i=!1):i&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(n=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==n&&this.emit("data",n),n},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,debug("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||!1!==t.end?o:c;function s(e){debug("onunpipe"),e===r&&c()}function o(){debug("onend"),e.end()}n.endEmitted?nextTick(i):r.once("end",i),e.on("unpipe",s);var a=pipeOnDrain(r);e.on("drain",a);var l=!1;function c(){debug("cleanup"),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("drain",a),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",c),r.removeListener("data",h),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}var u=!1;function h(t){debug("ondata"),u=!1,!1!==e.write(t)||u||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==indexOf(n.pipes,e))&&!l&&(debug("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,u=!0),r.pause())}function p(t){debug("onerror",t),m(),e.removeListener("error",p),0===listenerCount(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",d),m()}function d(){debug("onfinish"),e.removeListener("close",f),m()}function m(){debug("unpipe"),r.unpipe(e)}return r.on("data",h),prependListener(e,"error",p),e.once("close",f),e.once("finish",d),e.emit("pipe",r),n.flowing||(debug("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=indexOf(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},Readable.prototype.on=function(e,t){var r=EventEmitter.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):nextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){(debug("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return forEach(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList,Writable.WritableState=WritableState,inherits$1(Writable,EventEmitter),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),Buffer.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=nop),n.ended?writeAfterEnd(this,r):validChunk(this,n,e,r)&&(n.pendingcb++,i=writeOrBuffer(this,n,e,t,r)),i},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,r){r(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||endWritable(this,n,r)},inherits$1(Duplex,Readable);for(var keys=Object.keys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||nextTick(onEndNT,this)}function onEndNT(e){e.end()}function TransformState(e){this.afterTransform=function(t,r){return afterTransform(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);Duplex.call(this,e),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){done(t,e)})):done(t)}))}function done(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}function Stream(){EventEmitter.call(this)}inherits$1(Transform,Duplex),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Transform.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},inherits$1(PassThrough,Transform),PassThrough.prototype._transform=function(e,t,r){r(null,e)},inherits$1(Stream,EventEmitter),Stream.Readable=Readable,Stream.Writable=Writable,Stream.Duplex=Duplex,Stream.Transform=Transform,Stream.PassThrough=PassThrough,Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===EventEmitter.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var _polyfillNode_stream=Object.freeze({__proto__:null,default:Stream,Readable:Readable,Writable:Writable,Duplex:Duplex,Transform:Transform,PassThrough:PassThrough,Stream:Stream}),require$$0$1=getAugmentedNamespace(_polyfillNode_stream),parseStream_1=parseStream;const stream=require$$0$1,TOMLParser=tomlParser.exports;function parseStream(e){return e?parseReadable(e):parseTransform()}function parseReadable(e){const t=new TOMLParser;return e.setEncoding("utf8"),new Promise(((r,n)=>{let i,s=!1,o=!1;function a(){if(s=!0,!i)try{r(t.finish())}catch(e){n(e)}}function l(e){o=!0,n(e)}e.once("end",a),e.once("error",l),function r(){let n;i=!0;for(;null!==(n=e.read());)try{t.parse(n)}catch(e){return l(e)}if(i=!1,s)return a();if(o)return;e.once("readable",r)}()}))}function parseTransform(){const e=new TOMLParser;return new stream.Transform({objectMode:!0,transform(t,r,n){try{e.parse(t.toString(r))}catch(e){this.emit("error",e)}n()},flush(t){try{this.push(e.finish())}catch(e){this.emit("error",e)}t()}})}parse$2.exports=parseString_1,parse$2.exports.async=parseAsync_1,parse$2.exports.stream=parseStream_1,parse$2.exports.prettyError=parsePrettyError;var stringify$1={exports:{}};function stringify(e){if(null===e)throw typeError$1("null");if(void 0===e)throw typeError$1("undefined");if("object"!=typeof e)throw typeError$1(typeof e);if("function"==typeof e.toJSON&&(e=e.toJSON()),null==e)return null;const t=tomlType(e);if("table"!==t)throw typeError$1(t);return stringifyObject("","",e)}function typeError$1(e){return new Error("Can only stringify objects, not "+e)}function arrayOneTypeError(){return new Error("Array values can't have mixed types")}function getInlineKeys(e){return Object.keys(e).filter((t=>isInline(e[t])))}function getComplexKeys(e){return Object.keys(e).filter((t=>!isInline(e[t])))}function toJSON(e){let t=Array.isArray(e)?[]:Object.prototype.hasOwnProperty.call(e,"__proto__")?{["__proto__"]:void 0}:{};for(let r of Object.keys(e))e[r]&&"function"==typeof e[r].toJSON&&!("toISOString"in e[r])?t[r]=e[r].toJSON():t[r]=e[r];return t}function stringifyObject(e,t,r){var n,i;n=getInlineKeys(r=toJSON(r)),i=getComplexKeys(r);var s=[],o=t||"";n.forEach((e=>{var t=tomlType(r[e]);"undefined"!==t&&"null"!==t&&s.push(o+stringifyKey(e)+" = "+stringifyAnyInline(r[e],!0))})),s.length>0&&s.push("");var a=e&&n.length>0?t+"  ":"";return i.forEach((t=>{s.push(stringifyComplex(e,a,t,r[t]))})),s.join("\n")}function isInline(e){switch(tomlType(e)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return 0===e.length||"table"!==tomlType(e[0]);case"table":return 0===Object.keys(e).length;default:return!1}}function tomlType(e){return void 0===e?"undefined":null===e?"null":"bigint"==typeof e||Number.isInteger(e)&&!Object.is(e,-0)?"integer":"number"==typeof e?"float":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"toISOString"in e?isNaN(e)?"undefined":"datetime":Array.isArray(e)?"array":"table"}function stringifyKey(e){var t=String(e);return/^[-A-Za-z0-9_]+$/.test(t)?t:stringifyBasicString(t)}function stringifyBasicString(e){return'"'+escapeString(e).replace(/"/g,'\\"')+'"'}function stringifyLiteralString(e){return"'"+e+"'"}function numpad(e,t){for(;t.length<e;)t="0"+t;return t}function escapeString(e){return e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,(e=>"\\u"+numpad(4,e.codePointAt(0).toString(16))))}function stringifyMultilineString(e){let t=e.split(/\n/).map((e=>escapeString(e).replace(/"(?="")/g,'\\"'))).join("\n");return'"'===t.slice(-1)&&(t+="\\\n"),'"""\n'+t+'"""'}function stringifyAnyInline(e,t){let r=tomlType(e);return"string"===r&&(t&&/\n/.test(e)?r="string-multiline":!/[\b\t\n\f\r']/.test(e)&&/"/.test(e)&&(r="string-literal")),stringifyInline(e,r)}function stringifyInline(e,t){switch(t||(t=tomlType(e)),t){case"string-multiline":return stringifyMultilineString(e);case"string":return stringifyBasicString(e);case"string-literal":return stringifyLiteralString(e);case"integer":return stringifyInteger(e);case"float":return stringifyFloat(e);case"boolean":return stringifyBoolean(e);case"datetime":return stringifyDatetime(e);case"array":return stringifyInlineArray(e.filter((e=>"null"!==tomlType(e)&&"undefined"!==tomlType(e)&&"nan"!==tomlType(e))));case"table":return stringifyInlineTable(e);default:throw typeError$1(t)}}function stringifyInteger(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function stringifyFloat(e){if(e===1/0)return"inf";if(e===-1/0)return"-inf";if(Object.is(e,NaN))return"nan";if(Object.is(e,-0))return"-0.0";var t=String(e).split("."),r=t[0],n=t[1]||0;return stringifyInteger(r)+"."+n}function stringifyBoolean(e){return String(e)}function stringifyDatetime(e){return e.toISOString()}function isNumber(e){return"float"===e||"integer"===e}function arrayType(e){var t=tomlType(e[0]);return e.every((e=>tomlType(e)===t))?t:e.every((e=>isNumber(tomlType(e))))?"float":"mixed"}function validateArray(e){const t=arrayType(e);if("mixed"===t)throw arrayOneTypeError();return t}function stringifyInlineArray(e){const t=validateArray(e=toJSON(e));var r="[",n=e.map((e=>stringifyInline(e,t)));return n.join(", ").length>60||/\n/.test(n)?r+="\n  "+n.join(",\n  ")+"\n":r+=" "+n.join(", ")+(n.length>0?" ":""),r+"]"}function stringifyInlineTable(e){e=toJSON(e);var t=[];return Object.keys(e).forEach((r=>{t.push(stringifyKey(r)+" = "+stringifyAnyInline(e[r],!1))})),"{ "+t.join(", ")+(t.length>0?" ":"")+"}"}function stringifyComplex(e,t,r,n){var i=tomlType(n);if("array"===i)return stringifyArrayOfTables(e,t,r,n);if("table"===i)return stringifyComplexTable(e,t,r,n);throw typeError$1(i)}function stringifyArrayOfTables(e,t,r,n){validateArray(n=toJSON(n));var i=tomlType(n[0]);if("table"!==i)throw typeError$1(i);var s=e+stringifyKey(r),o="";return n.forEach((e=>{o.length>0&&(o+="\n"),o+=t+"[["+s+"]]\n",o+=stringifyObject(s+".",t,e)})),o}function stringifyComplexTable(e,t,r,n){var i=e+stringifyKey(r),s="";return getInlineKeys(n).length>0&&(s+=t+"["+i+"]\n"),s+stringifyObject(i+".",t,n)}stringify$1.exports=stringify,stringify$1.exports.value=stringifyInline;var parse$1=parse$2.exports;function parseDependencies(e){return Object.entries(e).map((e=>({name:e[0],version:e[1]})))}function getPackageConfig(e){const t=readFileSync(e),r=parse$1(t),n={...r.npm};delete n.dependencies,delete n.devDependencies;const i={title:r.title,description:r.description,version:r.version,license:r.license,main:r.main,authors:r.authors,keywords:r.keywords,build:r.build,target:r.target,git_repository:r.git_repository,documentation:r.documentation,scripts:r.scripts,servers:r.servers,workers:r.workers,executor:r.executor,dependencies:[],npm:{dependencies:[],devDependencies:[]},npmOverride:n};return r.dependencies&&(i.dependencies=parseDependencies(r.dependencies)),r.npm?.dependencies&&(i.npm.dependencies=parseDependencies(r.npm.dependencies)),r.npm?.devDependencies&&(i.npm.devDependencies=parseDependencies(r.npm.devDependencies)),i}function getDestinationFromConfig(e,t){if(!t)throw new Error('You must pass the location of the "clio.toml" file.');if(!t.build)throw new Error(`No build configuration has been found. Please add a [build] section to your "${e}" file.`);if(!t.build.destination)throw new Error(`The build directory is missing on your "${e}".\n\nExample:\n\n[build]\ndestination = "build"\n`);return t.build.destination}function getSourceFromConfig(e,t){if(!t.build)throw new Error(`No build configuration has been found. It is a "[build]" section on your "${e}" file.`);if(!t.build.source)throw new Error(`Could not find a source directory for build in your ${e} file.`);return t.build.source}function getParsedNpmDependencies(e){const t={},r=getPackageConfig(e).npm.dependencies;return r&&r.forEach((e=>{t[e.name]=e.version})),t}function getParsedNpmDevDependencies(e){const t={},r=getPackageConfig(e).npm.devDependencies;return r&&r.forEach((e=>{t[e.name]=e.version})),t}class Node{constructor(e){this.item=e}setNext(e){this.next=e,e.prev=this}unlink(){this.next&&(this.next.prev=this.prev),this.prev.next=this.next}}class List{constructor(e){if(!e.length)return;const[t,...r]=e;this.current=new Node(t),this.first=this.current,this.last=this.current;let n=this.current;for(const e of r){const t=new Node(e);n.setNext(t),n=t}this.last=n}next(){this.current=this.current.next}prev(){this.current=this.current.prev}unlinkNext(){this.current.next.unlink()}push(e){const t=new Node(e);if(!this.current)return this.current=t,this.last=this.current,void(this.first=this.current);this.last.setNext(t),this.last=t}}const beanPriority=(e,t,r)=>{for(;;){const{current:n}=e,{next:i}=n;if(!i)break;const{next:s}=i,o=t[n.item.type]?.[i.item.type];if(o){if(s){const r=t[i.item.type]?.[s.item.type];if(r&&r.priority>o.priority){e.next();continue}}n.item=o.value(n.item,i.item,r),e.unlinkNext(),e.current=n.prev||n}else e.current=i}return e},beanNoPriority=(e,t,r)=>{for(;;){const{current:n}=e,{next:i}=n;if(!i)break;const s=t[n.item.type]?.[i.item.type];s?(n.item=s.value(n.item,i.item,r),e.unlinkNext(),e.current=n.prev||n):e.current=i}return e},bean=(e,t,r=!0,n={})=>r?beanPriority(e,t,n):beanNoPriority(e,t,n),rule=(e,t=1)=>({value:e,priority:t}),map=(e,t)=>Object.fromEntries(e.map((e=>[e,t]))),mapfn=(e,t)=>Object.fromEntries(e.map(t)),list$1=e=>new List(e),lPluck=e=>e,merge=(...e)=>{const t={};for(const r of e)for(const[e,n]of Object.entries(r))t[e]?t[e]={...t[e],...n}:t[e]=n;return t};var rule_1=rule,map_1=map,mapfn_1=mapfn,bean_1=bean,list_1=list$1,lPluck_1=lPluck,merge_1=merge,sourceMapGenerator={},base64Vlq={},base64$1={};const intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");base64$1.encode=function(e){if(0<=e&&e<intToCharMap.length)return intToCharMap[e];throw new TypeError("Must be between 0 and 63: "+e)};const base64=base64$1,VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(e){return e<0?1+(-e<<1):0+(e<<1)}base64Vlq.encode=function(e){let t,r="",n=toVLQSigned(e);do{t=n&VLQ_BASE_MASK,n>>>=VLQ_BASE_SHIFT,n>0&&(t|=VLQ_CONTINUATION_BIT),r+=base64.encode(t)}while(n>0);return r};var util$6={};!function(e){e.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};const t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function n(e){const r=e.match(t);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function i(e){let t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}e.urlParse=n,e.urlGenerate=i;const s=function(e){const t=[];return function(r){for(let e=0;e<t.length;e++)if(t[e].input===r){const r=t[0];return t[0]=t[e],t[e]=r,t[0].result}const n=e(r);return t.unshift({input:r,result:n}),t.length>32&&t.pop(),n}}((function(t){let r=t;const s=n(t);if(s){if(!s.path)return t;r=s.path}const o=e.isAbsolute(r),a=[];let l=0,c=0;for(;;){if(l=c,c=r.indexOf("/",l),-1===c){a.push(r.slice(l));break}for(a.push(r.slice(l,c));c<r.length&&"/"===r[c];)c++}let u=0;for(c=a.length-1;c>=0;c--){const e=a[c];"."===e?a.splice(c,1):".."===e?u++:u>0&&(""===e?(a.splice(c+1,u),u=0):(a.splice(c,2),u--))}return r=a.join("/"),""===r&&(r=o?"/":"."),s?(s.path=r,i(s)):r}));function o(e,t){""===e&&(e="."),""===t&&(t=".");const o=n(t),a=n(e);if(a&&(e=a.path||"/"),o&&!o.scheme)return a&&(o.scheme=a.scheme),i(o);if(o||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);const l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,i(a)):l}e.normalize=s,e.join=o,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");let r=0;for(;0!==t.indexOf(e+"/");){const n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};const a=!("__proto__"in Object.create(null));function l(e){return e}function c(e){if(!e)return!1;const t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function u(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=a?l:function(e){return c(e)?"$"+e:e},e.fromSetString=a?l:function(e){return c(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,r){let n=u(e.source,t.source);return 0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n||r?n:(n=e.generatedColumn-t.generatedColumn,0!==n?n:(n=e.generatedLine-t.generatedLine,0!==n?n:u(e.name,t.name)))))},e.compareByGeneratedPositionsDeflated=function(e,t,r){let n=e.generatedLine-t.generatedLine;return 0!==n?n:(n=e.generatedColumn-t.generatedColumn,0!==n||r?n:(n=u(e.source,t.source),0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n?n:u(e.name,t.name)))))},e.compareByGeneratedPositionsInflated=function(e,t){let r=e.generatedLine-t.generatedLine;return 0!==r?r:(r=e.generatedColumn-t.generatedColumn,0!==r?r:(r=u(e.source,t.source),0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r?r:u(e.name,t.name)))))},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){const e=n(r);if(!e)throw new Error("sourceMapURL could not be parsed");if(e.path){const t=e.path.lastIndexOf("/");t>=0&&(e.path=e.path.substring(0,t+1))}t=o(i(e),t)}return s(t)}}(util$6);var arraySet={};class ArraySet$2{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){const r=new ArraySet$2;for(let n=0,i=e.length;n<i;n++)r.add(e[n],t);return r}size(){return this._set.size}add(e,t){const r=this.has(e),n=this._array.length;r&&!t||this._array.push(e),r||this._set.set(e,n)}has(e){return this._set.has(e)}indexOf(e){const t=this._set.get(e);if(t>=0)return t;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}}arraySet.ArraySet=ArraySet$2;var mappingList={};const util$5=util$6;function generatedPositionAfter(e,t){const r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||util$5.compareByGeneratedPositionsInflated(e,t)<=0}class MappingList$1{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){generatedPositionAfter(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(util$5.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}mappingList.MappingList=MappingList$1;const base64VLQ=base64Vlq,util$4=util$6,ArraySet$1=arraySet.ArraySet,MappingList=mappingList.MappingList;class SourceMapGenerator$1{constructor(e){e||(e={}),this._file=util$4.getArg(e,"file",null),this._sourceRoot=util$4.getArg(e,"sourceRoot",null),this._skipValidation=util$4.getArg(e,"skipValidation",!1),this._sources=new ArraySet$1,this._names=new ArraySet$1,this._mappings=new MappingList,this._sourcesContents=null}static fromSourceMap(e){const t=e.sourceRoot,r=new SourceMapGenerator$1({file:e.file,sourceRoot:t});return e.eachMapping((function(e){const n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=util$4.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){let i=n;null!==t&&(i=util$4.relative(t,n)),r._sources.has(i)||r._sources.add(i);const s=e.sourceContentFor(n);null!=s&&r.setSourceContent(n,s)})),r}addMapping(e){const t=util$4.getArg(e,"generated"),r=util$4.getArg(e,"original",null);let n=util$4.getArg(e,"source",null),i=util$4.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})}setSourceContent(e,t){let r=e;null!=this._sourceRoot&&(r=util$4.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util$4.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[util$4.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,r){let n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}const i=this._sourceRoot;null!=i&&(n=util$4.relative(i,n));const s=this._mappings.toArray().length>0?new ArraySet$1:this._sources,o=new ArraySet$1;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){const n=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=n.source&&(t.source=n.source,null!=r&&(t.source=util$4.join(r,t.source)),null!=i&&(t.source=util$4.relative(i,t.source)),t.originalLine=n.line,t.originalColumn=n.column,null!=n.name&&(t.name=n.name))}const a=t.source;null==a||s.has(a)||s.add(a);const l=t.name;null==l||o.has(l)||o.add(l)}),this),this._sources=s,this._names=o,e.sources.forEach((function(t){const n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=util$4.join(r,t)),null!=i&&(t=util$4.relative(i,t)),this.setSourceContent(t,n))}),this)}_validateMapping(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!r&&!n);else if(!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))}_serializeMappings(){let e,t,r,n,i=0,s=1,o=0,a=0,l=0,c=0,u="";const h=this._mappings.toArray();for(let p=0,f=h.length;p<f;p++){if(t=h[p],e="",t.generatedLine!==s)for(i=0;t.generatedLine!==s;)e+=";",s++;else if(p>0){if(!util$4.compareByGeneratedPositionsInflated(t,h[p-1]))continue;e+=","}e+=base64VLQ.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(n=this._sources.indexOf(t.source),e+=base64VLQ.encode(n-c),c=n,e+=base64VLQ.encode(t.originalLine-1-a),a=t.originalLine-1,e+=base64VLQ.encode(t.originalColumn-o),o=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=base64VLQ.encode(r-l),l=r)),u+=e}return u}_generateSourcesContent(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=util$4.relative(t,e));const r=util$4.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)}toJSON(){const e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}SourceMapGenerator$1.prototype._version=3,sourceMapGenerator.SourceMapGenerator=SourceMapGenerator$1;var binarySearch$1={};!function(e){function t(r,n,i,s,o,a){const l=Math.floor((n-r)/2)+r,c=o(i,s[l],!0);return 0===c?l:c>0?n-l>1?t(l,n,i,s,o,a):a==e.LEAST_UPPER_BOUND?n<s.length?n:-1:l:l-r>1?t(r,l,i,s,o,a):a==e.LEAST_UPPER_BOUND?l:r<0?-1:r}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(r,n,i,s){if(0===n.length)return-1;let o=t(-1,n.length,r,n,i,s||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===i(n[o],n[o-1],!0);)--o;return o}}(binarySearch$1);var __dirname="/:DevWorkcliopackagesplayground",readWasm$2={exports:{}},require$$0=getAugmentedNamespace(shim),require$$1=getAugmentedNamespace(_polyfillNode_path$1);if("function"==typeof fetch){let e=null;readWasm$2.exports=function(){if("string"!=typeof e)throw new Error("You must provide the URL of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer");return fetch(e).then((e=>e.arrayBuffer()))},readWasm$2.exports.initialize=t=>e=t}else{const e=require$$0,t=require$$1;readWasm$2.exports=function(){return new Promise(((r,n)=>{const i=t.join(__dirname,"mappings.wasm");e.readFile(i,null,((e,t)=>{e?n(e):r(t.buffer)}))}))},readWasm$2.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}}const readWasm$1=readWasm$2.exports;function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let cachedWasm=null;var wasm$1=function(){if(cachedWasm)return cachedWasm;const e=[];return cachedWasm=readWasm$1().then((t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,r,n,i,s,o,a,l,c,u){const h=new Mapping;h.generatedLine=t+1,h.generatedColumn=r,n&&(h.lastGeneratedColumn=i-1),s&&(h.source=o,h.originalLine=a+1,h.originalColumn=l,c&&(h.name=u)),e[e.length-1](h)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}}))).then((t=>({exports:t.instance.exports,withMappingCallback:(t,r)=>{e.push(t);try{r()}finally{e.pop()}}}))).then(null,(e=>{throw cachedWasm=null,e})),cachedWasm};const util$3=util$6,binarySearch=binarySearch$1,ArraySet=arraySet.ArraySet,readWasm=readWasm$2.exports,wasm=wasm$1,INTERNAL=Symbol("smcInternal");class SourceMapConsumer{constructor(e,t){return e==INTERNAL?Promise.resolve(this):_factory(e,t)}static initialize(e){readWasm.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return _factoryBSM(e,t)}static with(e,t,r){let n=null;return new SourceMapConsumer(e,t).then((e=>(n=e,r(e)))).then((e=>(n&&n.destroy(),e)),(e=>{throw n&&n.destroy(),e}))}_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")}eachMapping(e,t,r){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}SourceMapConsumer.prototype._version=3,SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2;class BasicSourceMapConsumer extends SourceMapConsumer{constructor(e,t){return super(INTERNAL).then((r=>{let n=e;"string"==typeof e&&(n=util$3.parseSourceMapInput(e));const i=util$3.getArg(n,"version");let s=util$3.getArg(n,"sources");const o=util$3.getArg(n,"names",[]);let a=util$3.getArg(n,"sourceRoot",null);const l=util$3.getArg(n,"sourcesContent",null),c=util$3.getArg(n,"mappings"),u=util$3.getArg(n,"file",null);if(i!=r._version)throw new Error("Unsupported version: "+i);return a&&(a=util$3.normalize(a)),s=s.map(String).map(util$3.normalize).map((function(e){return a&&util$3.isAbsolute(a)&&util$3.isAbsolute(e)?util$3.relative(a,e):e})),r._names=ArraySet.fromArray(o.map(String),!0),r._sources=ArraySet.fromArray(s,!0),r._absoluteSources=r._sources.toArray().map((function(e){return util$3.computeSourceURL(a,e,t)})),r.sourceRoot=a,r.sourcesContent=l,r._mappings=c,r._sourceMapURL=t,r.file=u,r._computedColumnSpans=!1,r._mappingsPtr=0,r._wasm=null,wasm().then((e=>(r._wasm=e,r)))}))}_findSourceIndex(e){let t=e;if(null!=this.sourceRoot&&(t=util$3.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(let t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1}static fromSourceMap(e,t){return new BasicSourceMapConsumer(e.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(e,t){const r=e.length,n=this._wasm.exports.allocate_mappings(r),i=new Uint8Array(this._wasm.exports.memory.buffer,n,r);for(let t=0;t<r;t++)i[t]=e.charCodeAt(t);const s=this._wasm.exports.parse_mappings(n);if(!s){const e=this._wasm.exports.get_last_error();let t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw new Error(t)}this._mappingsPtr=s}eachMapping(e,t,r){const n=t||null,i=r||SourceMapConsumer.GENERATED_ORDER,s=this.sourceRoot;this._wasm.withMappingCallback((t=>{null!==t.source&&(t.source=this._sources.at(t.source),t.source=util$3.computeSourceURL(s,t.source,this._sourceMapURL),null!==t.name&&(t.name=this._names.at(t.name))),e.call(n,t)}),(()=>{switch(i){case SourceMapConsumer.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case SourceMapConsumer.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}}))}allGeneratedPositionsFor(e){let t=util$3.getArg(e,"source");const r=util$3.getArg(e,"line"),n=e.column||0;if(t=this._findSourceIndex(t),t<0)return[];if(r<1)throw new Error("Line numbers must be >= 1");if(n<0)throw new Error("Column numbers must be >= 0");const i=[];return this._wasm.withMappingCallback((e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),i.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})}),(()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,r-1,"column"in e,n)})),i}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){const t={generatedLine:util$3.getArg(e,"line"),generatedColumn:util$3.getArg(e,"column")};if(t.generatedLine<1)throw new Error("Line numbers must be >= 1");if(t.generatedColumn<0)throw new Error("Column numbers must be >= 0");let r,n=util$3.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND);if(null==n&&(n=SourceMapConsumer.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback((e=>r=e),(()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),t.generatedLine-1,t.generatedColumn,n)})),r&&r.generatedLine===t.generatedLine){let e=util$3.getArg(r,"source",null);null!==e&&(e=this._sources.at(e),e=util$3.computeSourceURL(this.sourceRoot,e,this._sourceMapURL));let t=util$3.getArg(r,"name",null);return null!==t&&(t=this._names.at(t)),{source:e,line:util$3.getArg(r,"originalLine",null),column:util$3.getArg(r,"originalColumn",null),name:t}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))}sourceContentFor(e,t){if(!this.sourcesContent)return null;const r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];let n,i=e;if(null!=this.sourceRoot&&(i=util$3.relative(this.sourceRoot,i)),null!=this.sourceRoot&&(n=util$3.urlParse(this.sourceRoot))){const e=i.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];if((!n.path||"/"==n.path)&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')}generatedPositionFor(e){let t=util$3.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};const r={source:t,originalLine:util$3.getArg(e,"line"),originalColumn:util$3.getArg(e,"column")};if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");let n,i=util$3.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND);if(null==i&&(i=SourceMapConsumer.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback((e=>n=e),(()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),r.source,r.originalLine-1,r.originalColumn,i)})),n&&n.source===r.source){let e=n.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:util$3.getArg(n,"generatedLine",null),column:util$3.getArg(n,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer;class IndexedSourceMapConsumer extends SourceMapConsumer{constructor(e,t){return super(INTERNAL).then((r=>{let n=e;"string"==typeof e&&(n=util$3.parseSourceMapInput(e));const i=util$3.getArg(n,"version"),s=util$3.getArg(n,"sections");if(i!=r._version)throw new Error("Unsupported version: "+i);r._sources=new ArraySet,r._names=new ArraySet,r.__generatedMappings=null,r.__originalMappings=null,r.__generatedMappingsUnsorted=null,r.__originalMappingsUnsorted=null;let o={line:-1,column:0};return Promise.all(s.map((e=>{if(e.url)throw new Error("Support for url field in sections not implemented.");const r=util$3.getArg(e,"offset"),n=util$3.getArg(r,"line"),i=util$3.getArg(r,"column");if(n<o.line||n===o.line&&i<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");o=r;return new SourceMapConsumer(util$3.getArg(e,"map"),t).then((e=>({generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:e})))}))).then((e=>(r._sections=e,r)))}))}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const e=this._generatedMappingsUnsorted;e.sort(util$3.compareByGeneratedPositionsDeflated),this.__generatedMappings=e}_sortOriginalMappings(){const e=this._originalMappingsUnsorted;e.sort(util$3.compareByOriginalPositions),this.__originalMappings=e}get sources(){const e=[];for(let t=0;t<this._sections.length;t++)for(let r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}originalPositionFor(e){const t={generatedLine:util$3.getArg(e,"line"),generatedColumn:util$3.getArg(e,"column")},r=binarySearch.search(t,this._sections,(function(e,t){const r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn})),n=this._sections[r];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){const r=this._sections[t].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){for(let t=0;t<this._sections.length;t++){const r=this._sections[t];if(-1===r.consumer._findSourceIndex(util$3.getArg(e,"source")))continue;const n=r.consumer.generatedPositionFor(e);if(n){return{line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}}_parseMappings(e,t){const r=this.__generatedMappingsUnsorted=[],n=this.__originalMappingsUnsorted=[];for(let e=0;e<this._sections.length;e++){const t=this._sections[e],i=[];t.consumer.eachMapping((e=>i.push(e)));for(let e=0;e<i.length;e++){const s=i[e];let o=util$3.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(o),o=this._sources.indexOf(o);let a=null;s.name&&(this._names.add(s.name),a=this._names.indexOf(s.name));const l={source:o,generatedLine:s.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(t.generatedOffset.generatedLine===s.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:a};r.push(l),"number"==typeof l.originalLine&&n.push(l)}}}eachMapping(e,t,r){const n=t||null;let i;switch(r||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:i=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const s=this.sourceRoot;i.map((function(e){let t=null;return null!==e.source&&(t=this._sources.at(e.source),t=util$3.computeSourceURL(s,t,this._sourceMapURL)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,n)}_findMapping(e,t,r,n,i,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return binarySearch.search(e,t,i,s)}allGeneratedPositionsFor(e){const t=util$3.getArg(e,"line"),r={source:util$3.getArg(e,"source"),originalLine:t,originalColumn:util$3.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");const n=[];let i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",util$3.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(i>=0){let r=this._originalMappings[i];if(void 0===e.column){const e=r.originalLine;for(;r&&r.originalLine===e;){let e=r.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),n.push({line:util$3.getArg(r,"generatedLine",null),column:util$3.getArg(r,"generatedColumn",null),lastColumn:e}),r=this._originalMappings[++i]}}else{const e=r.originalColumn;for(;r&&r.originalLine===t&&r.originalColumn==e;){let e=r.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),n.push({line:util$3.getArg(r,"generatedLine",null),column:util$3.getArg(r,"generatedColumn",null),lastColumn:e}),r=this._originalMappings[++i]}}}return n}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}function _factory(e,t){let r=e;"string"==typeof e&&(r=util$3.parseSourceMapInput(e));const n=null!=r.sections?new IndexedSourceMapConsumer(r,t):new BasicSourceMapConsumer(r,t);return Promise.resolve(n)}function _factoryBSM(e,t){return BasicSourceMapConsumer.fromSourceMap(e,t)}var sourceNode={};const SourceMapGenerator=sourceMapGenerator.SourceMapGenerator,util$2=util$6,REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";class SourceNode$1{constructor(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[isSourceNode]=!0,null!=n&&this.add(n)}static fromStringWithSourceMap(e,t,r){const n=new SourceNode$1,i=e.split(REGEX_NEWLINE);let s=0;const o=function(){return e()+(e()||"");function e(){return s<i.length?i[s++]:void 0}};let a,l=1,c=0,u=null;return t.eachMapping((function(e){if(null!==u){if(!(l<e.generatedLine)){a=i[s]||"";const t=a.substr(0,e.generatedColumn-c);return i[s]=a.substr(e.generatedColumn-c),c=e.generatedColumn,h(u,t),void(u=e)}h(u,o()),l++,c=0}for(;l<e.generatedLine;)n.add(o()),l++;c<e.generatedColumn&&(a=i[s]||"",n.add(a.substr(0,e.generatedColumn)),i[s]=a.substr(e.generatedColumn),c=e.generatedColumn),u=e}),this),s<i.length&&(u&&h(u,o()),n.add(i.splice(s).join(""))),t.sources.forEach((function(e){const i=t.sourceContentFor(e);null!=i&&(null!=r&&(e=util$2.join(r,e)),n.setSourceContent(e,i))})),n;function h(e,t){if(null===e||void 0===e.source)n.add(t);else{const i=r?util$2.join(r,e.source):e.source;n.add(new SourceNode$1(e.originalLine,e.originalColumn,i,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this}walk(e){let t;for(let r=0,n=this.children.length;r<n;r++)t=this.children[r],t[isSourceNode]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,r;const n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this}replaceRight(e,t){const r=this.children[this.children.length-1];return r[isSourceNode]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[util$2.toSetString(e)]=t}walkSourceContents(e){for(let t=0,r=this.children.length;t<r;t++)this.children[t][isSourceNode]&&this.children[t].walkSourceContents(e);const t=Object.keys(this.sourceContents);for(let r=0,n=t.length;r<n;r++)e(util$2.fromSetString(t[r]),this.sourceContents[t[r]])}toString(){let e="";return this.walk((function(t){e+=t})),e}toStringWithSourceMap(e){const t={code:"",line:1,column:0},r=new SourceMapGenerator(e);let n=!1,i=null,s=null,o=null,a=null;return this.walk((function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?(i===l.source&&s===l.line&&o===l.column&&a===l.name||r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),i=l.source,s=l.line,o=l.column,a=l.name,n=!0):n&&(r.addMapping({generated:{line:t.line,column:t.column}}),i=null,n=!1);for(let s=0,o=e.length;s<o;s++)e.charCodeAt(s)===NEWLINE_CODE?(t.line++,t.column=0,s+1===o?(i=null,n=!1):n&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}}}sourceNode.SourceNode=SourceNode$1;var SourceNode=sourceNode.SourceNode,ansiStyles$3={exports:{}},colorName$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const cssKeywords$1=colorName$1,reverseKeywords$1={};for(const e of Object.keys(cssKeywords$1))reverseKeywords$1[cssKeywords$1[e]]=e;const convert$3={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$5=convert$3;for(const e of Object.keys(convert$3)){if(!("channels"in convert$3[e]))throw new Error("missing channels property: "+e);if(!("labels"in convert$3[e]))throw new Error("missing channel labels property: "+e);if(convert$3[e].labels.length!==convert$3[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=convert$3[e];delete convert$3[e].channels,delete convert$3[e].labels,Object.defineProperty(convert$3[e],"channels",{value:t}),Object.defineProperty(convert$3[e],"labels",{value:r})}function comparativeDistance$1(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}convert$3.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(60*a,360),a<0&&(a+=360);const c=(i+s)/2;return l=s===i?0:c<=.5?o/(s+i):o/(2-s-i),[a,100*l,100*c]},convert$3.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),h=function(e){return(c-e)/6/u+.5};return 0===u?(i=0,s=0):(s=u/c,t=h(o),r=h(a),n=h(l),o===c?i=n-r:a===c?i=1/3+t-n:l===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*c]},convert$3.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=convert$3.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,100*s,100*n]},convert$3.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n);return[100*((1-t-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*i]},convert$3.rgb.keyword=function(e){const t=reverseKeywords$1[e];if(t)return t;let r,n=1/0;for(const t of Object.keys(cssKeywords$1)){const i=comparativeDistance$1(e,cssKeywords$1[t]);i<n&&(n=i,r=t)}return r},convert$3.keyword.rgb=function(e){return cssKeywords$1[e]},convert$3.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*r+.1805*n),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},convert$3.rgb.lab=function(e){const t=convert$3.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(r-n),200*(n-i)]},convert$3.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(0===r)return o=255*n,[o,o,o];i=n<.5?n*(1+r):n+r-n*r;const a=2*n-i,l=[0,0,0];for(let e=0;e<3;e++)s=t+1/3*-(e-1),s<0&&s++,s>1&&s--,o=6*s<1?a+6*(i-a)*s:2*s<1?i:3*s<2?a+(i-a)*(2/3-s)*6:a,l[e]=255*o;return l},convert$3.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;return[t,100*(0===n?2*i/(s+i):2*r/(n+r)),100*((n+r)/2)]},convert$3.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}},convert$3.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,100*s,100*o]},convert$3.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,0!=(1&o)&&(s=1-s);const l=r+s*(a-r);let c,u,h;switch(o){default:case 6:case 0:c=a,u=l,h=r;break;case 1:c=l,u=a,h=r;break;case 2:c=r,u=a,h=l;break;case 3:c=r,u=l,h=a;break;case 4:c=l,u=r,h=a;break;case 5:c=a,u=r,h=l}return[255*c,255*u,255*h]},convert$3.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},convert$3.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=3.2406*t+-1.5372*r+-.4986*n,s=-.9689*t+1.8758*r+.0415*n,o=.0557*t+-.204*r+1.057*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[255*i,255*s,255*o]},convert$3.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(t-r),200*(r-n)]},convert$3.lab.xyz=function(e){let t,r,n;r=(e[0]+16)/116,t=e[1]/500+r,n=r-e[2]/200;const i=r**3,s=t**3,o=n**3;return r=i>.008856?i:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,t*=95.047,r*=100,n*=108.883,[t,r,n]},convert$3.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;i=360*Math.atan2(n,r)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(r*r+n*n),i]},convert$3.lch.lab=function(e){const t=e[0],r=e[1],n=e[2]/360*2*Math.PI;return[t,r*Math.cos(n),r*Math.sin(n)]},convert$3.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=null===t?convert$3.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===s&&(o+=60),o},convert$3.hsv.ansi16=function(e){return convert$3.rgb.ansi16(convert$3.hsv.rgb(e),e[2])},convert$3.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},convert$3.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},convert$3.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},convert$3.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},convert$3.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map((e=>e+e)).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},convert$3.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,l;return a=o<1?s/(1-o):0,l=o<=0?0:i===t?(r-n)/o%6:i===r?2+(n-t)/o:4+(t-r)/o,l/=6,l%=1,[360*l,100*o,100*a]},convert$3.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},convert$3.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},convert$3.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[255*(r*i[0]+l),255*(r*i[1]+l),255*(r*i[2]+l)]},convert$3.hcg.hsv=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);let n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},convert$3.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},convert$3.hcg.hwb=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},convert$3.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,n=r-t;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},convert$3.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},convert$3.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},convert$3.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},convert$3.gray.hsl=function(e){return[0,0,e[0]]},convert$3.gray.hsv=convert$3.gray.hsl,convert$3.gray.hwb=function(e){return[0,100,e[0]]},convert$3.gray.cmyk=function(e){return[0,0,0,e[0]]},convert$3.gray.lab=function(e){return[e[0],0,0]},convert$3.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},convert$3.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const conversions$4=conversions$5;function buildGraph$1(){const e={},t=Object.keys(conversions$4);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function deriveBFS$1(e){const t=buildGraph$1(),r=[e];for(t[e].distance=0;r.length;){const e=r.pop(),n=Object.keys(conversions$4[e]);for(let i=n.length,s=0;s<i;s++){const i=n[s],o=t[i];-1===o.distance&&(o.distance=t[e].distance+1,o.parent=e,r.unshift(i))}}return t}function link$1(e,t){return function(r){return t(e(r))}}function wrapConversion$1(e,t){const r=[t[e].parent,e];let n=conversions$4[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=link$1(conversions$4[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}var route$3=function(e){const t=deriveBFS$1(e),r={},n=Object.keys(t);for(let e=n.length,i=0;i<e;i++){const e=n[i];null!==t[e].parent&&(r[e]=wrapConversion$1(e,t))}return r};const conversions$3=conversions$5,route$2=route$3,convert$2={},models$1=Object.keys(conversions$3);function wrapRaw$1(e){const t=function(...t){const r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function wrapRounded$1(e){const t=function(...t){const r=t[0];if(null==r)return r;r.length>1&&(t=r);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}models$1.forEach((e=>{convert$2[e]={},Object.defineProperty(convert$2[e],"channels",{value:conversions$3[e].channels}),Object.defineProperty(convert$2[e],"labels",{value:conversions$3[e].labels});const t=route$2(e);Object.keys(t).forEach((r=>{const n=t[r];convert$2[e][r]=wrapRounded$1(n),convert$2[e][r].raw=wrapRaw$1(n)}))}));var colorConvert$1=convert$2;!function(e){const t=(e,t)=>(...r)=>`[${e(...r)+t}m`,r=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},n=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},i=e=>e,s=(e,t,r)=>[e,t,r],o=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let a;const l=(e,t,r,n)=>{void 0===a&&(a=colorConvert$1);const i=n?10:0,s={};for(const[n,o]of Object.entries(a)){const a="ansi16"===n?"ansi":n;n===t?s[a]=e(r,i):"object"==typeof o&&(s[a]=e(o[t],i))}return s};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[t,r]of Object.entries(a)){for(const[t,n]of Object.entries(r))a[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=a[t],e.set(n[0],n[1]);Object.defineProperty(a,t,{value:r,enumerable:!1})}return Object.defineProperty(a,"codes",{value:e,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",o(a.color,"ansi",(()=>l(t,"ansi16",i,!1))),o(a.color,"ansi256",(()=>l(r,"ansi256",i,!1))),o(a.color,"ansi16m",(()=>l(n,"rgb",s,!1))),o(a.bgColor,"ansi",(()=>l(t,"ansi16",i,!0))),o(a.bgColor,"ansi256",(()=>l(r,"ansi256",i,!0))),o(a.bgColor,"ansi16m",(()=>l(n,"rgb",s,!0))),a}})}(ansiStyles$3);var browser$1={stdout:!1,stderr:!1};const stringReplaceAll$3=(e,t,r)=>{let n=e.indexOf(t);if(-1===n)return e;const i=t.length;let s=0,o="";do{o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s)}while(-1!==n);return o+=e.substr(s),o},stringEncaseCRLFWithFirstIndex$3=(e,t,r,n)=>{let i=0,s="";do{const o="\r"===e[n-1];s+=e.substr(i,(o?n-1:n)-i)+t+(o?"\r\n":"\n")+r,i=n+1,n=e.indexOf("\n",i)}while(-1!==n);return s+=e.substr(i),s};var util$1={stringReplaceAll:stringReplaceAll$3,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex$3};const TEMPLATE_REGEX$1=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX$1=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX$1=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX$1=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES$1=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape$1(e){const t="u"===e[0],r="{"===e[1];return t&&!r&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):ESCAPES$1.get(e)||e}function parseArguments$1(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const t of n){const n=Number(t);if(Number.isNaN(n)){if(!(i=t.match(STRING_REGEX$1)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);r.push(i[2].replace(ESCAPE_REGEX$1,((e,t,r)=>t?unescape$1(t):r)))}else r.push(n)}return r}function parseStyle$1(e){STYLE_REGEX$1.lastIndex=0;const t=[];let r;for(;null!==(r=STYLE_REGEX$1.exec(e));){const e=r[1];if(r[2]){const n=parseArguments$1(e,r[2]);t.push([e].concat(n))}else t.push([e])}return t}function buildStyle$1(e,t){const r={};for(const e of t)for(const t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let n=e;for(const[e,t]of Object.entries(r))if(Array.isArray(t)){if(!(e in n))throw new Error(`Unknown Chalk style: ${e}`);n=t.length>0?n[e](...t):n[e]}return n}var templates$1=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(TEMPLATE_REGEX$1,((t,s,o,a,l,c)=>{if(s)i.push(unescape$1(s));else if(a){const t=i.join("");i=[],n.push(0===r.length?t:buildStyle$1(e,r)(t)),r.push({inverse:o,styles:parseStyle$1(a)})}else if(l){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(buildStyle$1(e,r)(i.join(""))),i=[],r.pop()}else i.push(c)})),n.push(i.join("")),r.length>0){const e=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(e)}return n.join("")};const ansiStyles$2=ansiStyles$3.exports,{stdout:stdoutColor$1,stderr:stderrColor$1}=browser$1,{stringReplaceAll:stringReplaceAll$2,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex$2}=util$1,{isArray:isArray$1}=Array,levelMapping$1=["ansi","ansi","ansi256","ansi16m"],styles$1=Object.create(null),applyOptions$1=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=stdoutColor$1?stdoutColor$1.level:0;e.level=void 0===t.level?r:t.level};class ChalkClass$1{constructor(e){return chalkFactory$1(e)}}const chalkFactory$1=e=>{const t={};return applyOptions$1(t,e),t.template=(...e)=>chalkTag$1(t.template,...e),Object.setPrototypeOf(t,Chalk$1.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=ChalkClass$1,t.template};function Chalk$1(e){return chalkFactory$1(e)}for(const[e,t]of Object.entries(ansiStyles$2))styles$1[e]={get(){const r=createBuilder$1(this,createStyler$1(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};styles$1.visible={get(){const e=createBuilder$1(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const usedModels$1=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of usedModels$1)styles$1[e]={get(){const{level:t}=this;return function(...r){const n=createStyler$1(ansiStyles$2.color[levelMapping$1[t]][e](...r),ansiStyles$2.color.close,this._styler);return createBuilder$1(this,n,this._isEmpty)}}};for(const e of usedModels$1){const t="bg"+e[0].toUpperCase()+e.slice(1);styles$1[t]={get(){const{level:t}=this;return function(...r){const n=createStyler$1(ansiStyles$2.bgColor[levelMapping$1[t]][e](...r),ansiStyles$2.bgColor.close,this._styler);return createBuilder$1(this,n,this._isEmpty)}}}}const proto$1=Object.defineProperties((()=>{}),{...styles$1,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),createStyler$1=(e,t,r)=>{let n,i;return void 0===r?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},createBuilder$1=(e,t,r)=>{const n=(...e)=>isArray$1(e[0])&&isArray$1(e[0].raw)?applyStyle$1(n,chalkTag$1(n,...e)):applyStyle$1(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,proto$1),n._generator=e,n._styler=t,n._isEmpty=r,n},applyStyle$1=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(void 0===r)return t;const{openAll:n,closeAll:i}=r;if(-1!==t.indexOf(""))for(;void 0!==r;)t=stringReplaceAll$2(t,r.close,r.open),r=r.parent;const s=t.indexOf("\n");return-1!==s&&(t=stringEncaseCRLFWithFirstIndex$2(t,i,n,s)),n+t+i};let template$1;const chalkTag$1=(e,...t)=>{const[r]=t;if(!isArray$1(r)||!isArray$1(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let e=1;e<r.length;e++)i.push(String(n[e-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[e]));return void 0===template$1&&(template$1=templates$1),template$1(e,i.join(""))};Object.defineProperties(Chalk$1.prototype,styles$1);const chalk$1=Chalk$1();chalk$1.supportsColor=stdoutColor$1,chalk$1.stderr=Chalk$1({level:stderrColor$1?stderrColor$1.level:0}),chalk$1.stderr.supportsColor=stderrColor$1;var source$1=chalk$1,ansiStyles$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const cssKeywords=colorName,reverseKeywords={};for(const e of Object.keys(cssKeywords))reverseKeywords[cssKeywords[e]]=e;const convert$1={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$1;for(const e of Object.keys(convert$1)){if(!("channels"in convert$1[e]))throw new Error("missing channels property: "+e);if(!("labels"in convert$1[e]))throw new Error("missing channel labels property: "+e);if(convert$1[e].labels.length!==convert$1[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=convert$1[e];delete convert$1[e].channels,delete convert$1[e].labels,Object.defineProperty(convert$1[e],"channels",{value:t}),Object.defineProperty(convert$1[e],"labels",{value:r})}function comparativeDistance(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}convert$1.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(60*a,360),a<0&&(a+=360);const c=(i+s)/2;return l=s===i?0:c<=.5?o/(s+i):o/(2-s-i),[a,100*l,100*c]},convert$1.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),h=function(e){return(c-e)/6/u+.5};return 0===u?(i=0,s=0):(s=u/c,t=h(o),r=h(a),n=h(l),o===c?i=n-r:a===c?i=1/3+t-n:l===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*c]},convert$1.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=convert$1.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,100*s,100*n]},convert$1.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n);return[100*((1-t-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*i]},convert$1.rgb.keyword=function(e){const t=reverseKeywords[e];if(t)return t;let r,n=1/0;for(const t of Object.keys(cssKeywords)){const i=comparativeDistance(e,cssKeywords[t]);i<n&&(n=i,r=t)}return r},convert$1.keyword.rgb=function(e){return cssKeywords[e]},convert$1.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*r+.1805*n),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},convert$1.rgb.lab=function(e){const t=convert$1.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(r-n),200*(n-i)]},convert$1.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(0===r)return o=255*n,[o,o,o];i=n<.5?n*(1+r):n+r-n*r;const a=2*n-i,l=[0,0,0];for(let e=0;e<3;e++)s=t+1/3*-(e-1),s<0&&s++,s>1&&s--,o=6*s<1?a+6*(i-a)*s:2*s<1?i:3*s<2?a+(i-a)*(2/3-s)*6:a,l[e]=255*o;return l},convert$1.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;return[t,100*(0===n?2*i/(s+i):2*r/(n+r)),100*((n+r)/2)]},convert$1.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}},convert$1.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,100*s,100*o]},convert$1.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,0!=(1&o)&&(s=1-s);const l=r+s*(a-r);let c,u,h;switch(o){default:case 6:case 0:c=a,u=l,h=r;break;case 1:c=l,u=a,h=r;break;case 2:c=r,u=a,h=l;break;case 3:c=r,u=l,h=a;break;case 4:c=l,u=r,h=a;break;case 5:c=a,u=r,h=l}return[255*c,255*u,255*h]},convert$1.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},convert$1.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=3.2406*t+-1.5372*r+-.4986*n,s=-.9689*t+1.8758*r+.0415*n,o=.0557*t+-.204*r+1.057*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[255*i,255*s,255*o]},convert$1.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(t-r),200*(r-n)]},convert$1.lab.xyz=function(e){let t,r,n;r=(e[0]+16)/116,t=e[1]/500+r,n=r-e[2]/200;const i=r**3,s=t**3,o=n**3;return r=i>.008856?i:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,t*=95.047,r*=100,n*=108.883,[t,r,n]},convert$1.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;i=360*Math.atan2(n,r)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(r*r+n*n),i]},convert$1.lch.lab=function(e){const t=e[0],r=e[1],n=e[2]/360*2*Math.PI;return[t,r*Math.cos(n),r*Math.sin(n)]},convert$1.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=null===t?convert$1.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===s&&(o+=60),o},convert$1.hsv.ansi16=function(e){return convert$1.rgb.ansi16(convert$1.hsv.rgb(e),e[2])},convert$1.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},convert$1.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},convert$1.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},convert$1.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},convert$1.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map((e=>e+e)).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},convert$1.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,l;return a=o<1?s/(1-o):0,l=o<=0?0:i===t?(r-n)/o%6:i===r?2+(n-t)/o:4+(t-r)/o,l/=6,l%=1,[360*l,100*o,100*a]},convert$1.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},convert$1.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},convert$1.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[255*(r*i[0]+l),255*(r*i[1]+l),255*(r*i[2]+l)]},convert$1.hcg.hsv=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);let n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},convert$1.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},convert$1.hcg.hwb=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},convert$1.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,n=r-t;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},convert$1.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},convert$1.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},convert$1.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},convert$1.gray.hsl=function(e){return[0,0,e[0]]},convert$1.gray.hsv=convert$1.gray.hsl,convert$1.gray.hwb=function(e){return[0,100,e[0]]},convert$1.gray.cmyk=function(e){return[0,0,0,e[0]]},convert$1.gray.lab=function(e){return[e[0],0,0]},convert$1.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},convert$1.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const e={},t=Object.keys(conversions$1);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function deriveBFS(e){const t=buildGraph(),r=[e];for(t[e].distance=0;r.length;){const e=r.pop(),n=Object.keys(conversions$1[e]);for(let i=n.length,s=0;s<i;s++){const i=n[s],o=t[i];-1===o.distance&&(o.distance=t[e].distance+1,o.parent=e,r.unshift(i))}}return t}function link(e,t){return function(r){return t(e(r))}}function wrapConversion(e,t){const r=[t[e].parent,e];let n=conversions$1[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=link(conversions$1[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}var route$1=function(e){const t=deriveBFS(e),r={},n=Object.keys(t);for(let e=n.length,i=0;i<e;i++){const e=n[i];null!==t[e].parent&&(r[e]=wrapConversion(e,t))}return r};const conversions=conversions$2,route=route$1,convert={},models=Object.keys(conversions);function wrapRaw(e){const t=function(...t){const r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function wrapRounded(e){const t=function(...t){const r=t[0];if(null==r)return r;r.length>1&&(t=r);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}models.forEach((e=>{convert[e]={},Object.defineProperty(convert[e],"channels",{value:conversions[e].channels}),Object.defineProperty(convert[e],"labels",{value:conversions[e].labels});const t=route(e);Object.keys(t).forEach((r=>{const n=t[r];convert[e][r]=wrapRounded(n),convert[e][r].raw=wrapRaw(n)}))}));var colorConvert=convert;!function(e){const t=(e,t)=>(...r)=>`[${e(...r)+t}m`,r=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},n=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},i=e=>e,s=(e,t,r)=>[e,t,r],o=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let a;const l=(e,t,r,n)=>{void 0===a&&(a=colorConvert);const i=n?10:0,s={};for(const[n,o]of Object.entries(a)){const a="ansi16"===n?"ansi":n;n===t?s[a]=e(r,i):"object"==typeof o&&(s[a]=e(o[t],i))}return s};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[t,r]of Object.entries(a)){for(const[t,n]of Object.entries(r))a[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=a[t],e.set(n[0],n[1]);Object.defineProperty(a,t,{value:r,enumerable:!1})}return Object.defineProperty(a,"codes",{value:e,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",o(a.color,"ansi",(()=>l(t,"ansi16",i,!1))),o(a.color,"ansi256",(()=>l(r,"ansi256",i,!1))),o(a.color,"ansi16m",(()=>l(n,"rgb",s,!1))),o(a.bgColor,"ansi",(()=>l(t,"ansi16",i,!0))),o(a.bgColor,"ansi256",(()=>l(r,"ansi256",i,!0))),o(a.bgColor,"ansi16m",(()=>l(n,"rgb",s,!0))),a}})}(ansiStyles$1);var browser={stdout:!1,stderr:!1};const stringReplaceAll$1=(e,t,r)=>{let n=e.indexOf(t);if(-1===n)return e;const i=t.length;let s=0,o="";do{o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s)}while(-1!==n);return o+=e.substr(s),o},stringEncaseCRLFWithFirstIndex$1=(e,t,r,n)=>{let i=0,s="";do{const o="\r"===e[n-1];s+=e.substr(i,(o?n-1:n)-i)+t+(o?"\r\n":"\n")+r,i=n+1,n=e.indexOf("\n",i)}while(-1!==n);return s+=e.substr(i),s};var util={stringReplaceAll:stringReplaceAll$1,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex$1};const TEMPLATE_REGEX=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(e){const t="u"===e[0],r="{"===e[1];return t&&!r&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):ESCAPES.get(e)||e}function parseArguments(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const t of n){const n=Number(t);if(Number.isNaN(n)){if(!(i=t.match(STRING_REGEX)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);r.push(i[2].replace(ESCAPE_REGEX,((e,t,r)=>t?unescape(t):r)))}else r.push(n)}return r}function parseStyle(e){STYLE_REGEX.lastIndex=0;const t=[];let r;for(;null!==(r=STYLE_REGEX.exec(e));){const e=r[1];if(r[2]){const n=parseArguments(e,r[2]);t.push([e].concat(n))}else t.push([e])}return t}function buildStyle(e,t){const r={};for(const e of t)for(const t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let n=e;for(const[e,t]of Object.entries(r))if(Array.isArray(t)){if(!(e in n))throw new Error(`Unknown Chalk style: ${e}`);n=t.length>0?n[e](...t):n[e]}return n}var templates=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(TEMPLATE_REGEX,((t,s,o,a,l,c)=>{if(s)i.push(unescape(s));else if(a){const t=i.join("");i=[],n.push(0===r.length?t:buildStyle(e,r)(t)),r.push({inverse:o,styles:parseStyle(a)})}else if(l){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(buildStyle(e,r)(i.join(""))),i=[],r.pop()}else i.push(c)})),n.push(i.join("")),r.length>0){const e=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(e)}return n.join("")};const ansiStyles=ansiStyles$1.exports,{stdout:stdoutColor,stderr:stderrColor}=browser,{stringReplaceAll:stringReplaceAll,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex}=util,{isArray:isArray}=Array,levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null),applyOptions=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=stdoutColor?stdoutColor.level:0;e.level=void 0===t.level?r:t.level};class ChalkClass{constructor(e){return chalkFactory(e)}}const chalkFactory=e=>{const t={};return applyOptions(t,e),t.template=(...e)=>chalkTag(t.template,...e),Object.setPrototypeOf(t,Chalk.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=ChalkClass,t.template};function Chalk(e){return chalkFactory(e)}for(const[e,t]of Object.entries(ansiStyles))styles[e]={get(){const r=createBuilder(this,createStyler(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};styles.visible={get(){const e=createBuilder(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const usedModels=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of usedModels)styles[e]={get(){const{level:t}=this;return function(...r){const n=createStyler(ansiStyles.color[levelMapping[t]][e](...r),ansiStyles.color.close,this._styler);return createBuilder(this,n,this._isEmpty)}}};for(const e of usedModels){const t="bg"+e[0].toUpperCase()+e.slice(1);styles[t]={get(){const{level:t}=this;return function(...r){const n=createStyler(ansiStyles.bgColor[levelMapping[t]][e](...r),ansiStyles.bgColor.close,this._styler);return createBuilder(this,n,this._isEmpty)}}}}const proto=Object.defineProperties((()=>{}),{...styles,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),createStyler=(e,t,r)=>{let n,i;return void 0===r?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},createBuilder=(e,t,r)=>{const n=(...e)=>isArray(e[0])&&isArray(e[0].raw)?applyStyle(n,chalkTag(n,...e)):applyStyle(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,proto),n._generator=e,n._styler=t,n._isEmpty=r,n},applyStyle=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(void 0===r)return t;const{openAll:n,closeAll:i}=r;if(-1!==t.indexOf(""))for(;void 0!==r;)t=stringReplaceAll(t,r.close,r.open),r=r.parent;const s=t.indexOf("\n");return-1!==s&&(t=stringEncaseCRLFWithFirstIndex(t,i,n,s)),n+t+i};let template;const chalkTag=(e,...t)=>{const[r]=t;if(!isArray(r)||!isArray(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let e=1;e<r.length;e++)i.push(String(n[e-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[e]));return void 0===template&&(template=templates),template(e,i.join(""))};Object.defineProperties(Chalk.prototype,styles);const chalk=Chalk();chalk.supportsColor=stdoutColor,chalk.stderr=Chalk({level:stderrColor?stderrColor.level:0}),chalk.stderr.supportsColor=stderrColor;var source=chalk;const{blue:blue,cyan:cyan,gray:gray,green:green,magenta:magenta,white:white,yellow:yellow}=source;function colorize(e){let t=[{pattern:/^fn +[a-z_][a-z_0-9]*/i,action:function(e,t){let r=e.slice(2).trim(" "),n=e.length-r.length-2;t.push(magenta("fn")),t.push(white(" ".repeat(n))),t.push(blue(r))}},{pattern:/^[-=]> +[a-z_][a-z_0-9]*/i,action:function(e,t){let r=e.slice(2).trim(" "),n=e.length-r.length-2;t.push(magenta(e.slice(0,2))),t.push(white(" ".repeat(n))),t.push(blue(r))}},{pattern:/^-> *\* *[a-z_][a-z_0-9]*/i,action:function(e,t){let r=e.match(/[a-z_][a-z_0-9]*/)[0],n=e.match(/-> *\*/)[0],i=e.length-r.length-n.length;t.push(magenta(n)),t.push(white(" ".repeat(i))),t.push(blue(r))}},{color:gray,pattern:/^--.*?($|\n)/},{color:green,pattern:/^#[^\[\] \r\n]+/i},{color:magenta,pattern:/^(export|fn|else|if|not|or|and|import|from|as)(?![a-zA-Z_-])/},{color:yellow,pattern:/^(true|false)/},{color:green,pattern:/^https?:[^ \r\n]+/},{color:cyan,pattern:/^(->|=>)/},{color:cyan,pattern:/^(!|!=|=|>|<|>=|<=)/},{color:cyan,pattern:/^([\[\]()])/},{color:cyan,pattern:/^[-+/*%^]/},{color:cyan,pattern:/^(([@][a-z][a-z0-9_]*)|[.:@])/i},{color:yellow,pattern:/^(0|-?[1-9][0-9']*)(\.[0-9']+)?/},{color:white,pattern:/^[a-z_][a-z_0-9]*('s? )?/i},{color:green,pattern:/^('([^\\]|\\.)*?'|:\S+)/},{color:white,pattern:/^\S+/},{color:white,pattern:/^(\r\n|[\r\n])/},{color:white,pattern:/\s+/}],r=[],n=0;for(;n<=e.length;){for(let i=0;i<t.length;i++){let s=e.slice(n).match(t[i].pattern);if(null!=s){null!=t[i].action?t[i].action(s[0],r):r.push(t[i].color(s[0])),n+=s[0].length-1;break}}n++}return r.join("")}const wrap=(e,t)=>rule_1(((t,r,n)=>{const i=e(t,r,n);i.lambda=i.lambda||[];for(const e of[t,r])"wrapped"!=e.type&&"decorators"!=e.type&&("parameter"==e.type&&"parameter"!==i.type?i.lambda.push(e):e.lambda?.length&&e!==i&&i.lambda.push(...e.lambda));return i.meta={location:t.meta?.location||{file:t.file,line:t.line,column:t.column}},i}),t),ignore=(...e)=>map_1(e,wrap(lPluck_1)),ranges$1=["range","rangeFull","rangeBy","byRange","ranger"],values=["symbol","parameter","number","array","string","formattedString","hashmap","propertyAccess",...ranges$1,"slice","set","wrapped","awaited","parallelFn","null","true","false","inCheck","group"],arrayLike=["array","symbol","propertyAccess","slice"],expressions=["math","comparison","logical","logicalNot","call","parameterCall","arrowAssignment"],controls=["conditional","fullConditional"],topLevels=[...controls,"function","decoratedFunction","decoratedExportedFunction",...values,"assignment","arrowAssignment","typedAssignment",...expressions,"importStatement","typeDef","listDef"],rootLevels=[...topLevels,"exported","exportedFunction"],lexerTokens=["if","else","fn","await","import","as","from","export","and","or","not","by","in","number","fmtStart","fmtEnd","strEscape","fmtExprStart","ender","fmtExprEnd","fmtStr","format","string","comment","outdent","indent","space","awaitAll","symbol","parameter","format","slicer","hash","ranger","dot","pike","lCurly","rCurly","lSquare","rSquare","lParen","ender","rParen","colon","arrow","subOp","addOp","gte","gt","lte","lt","eq","fatArrow","assign","divOp","modOp","powOp","mulOp","lineBreak","groupOpen","groupClose","type","is"],_wrap=wrap,_ignore=ignore,_topLevels=topLevels,_rootLevels=rootLevels,_expressions=expressions,_arrayLike=arrayLike,_ranges=ranges$1,_values=values,_lexerTokens=lexerTokens;var _await={await:{...map_1([..._values,"call","parallelFn","method"],_wrap(((e,t)=>({type:"awaited",await:e,value:t})),.4))},awaitAll:{...map_1([..._values,"call","parallelFn","method"],_wrap(((e,t)=>({type:"awaited",all:!0,await:e,value:t})),.4))}},_exports={export:{function:_wrap(((e,t)=>({type:"exportedFunction",name:t.name,value:t,export:e}))),symbol:_wrap(((e,t)=>({type:"exported",name:t,value:t,export:e}))),assignment:_wrap(((e,t)=>({type:"exported",name:t.name,value:t,export:e}))),typedAssignment:_wrap(((e,t)=>({type:"exported",name:t.assignment.name,value:t,export:e}))),typeDef:_wrap(((e,t)=>({type:"exported",name:t.name,value:t,export:e}))),listDef:_wrap(((e,t)=>({type:"exported",name:t.name,value:t,export:e})))}},_in={...map_1([..._expressions,..._values],{in:_wrap(((e,t)=>({type:"inCheckOpen",lhs:e,start:t})),.1)}),inCheckOpen:{...map_1([..._expressions,..._values],_wrap(((e,t)=>(e.type="inCheck",e.rhs=t,e))))}},arrays={lSquare:{..._ignore("lineBreak"),...map_1([..._values,..._expressions],_wrap(((e,t)=>({type:"arrayOpen",start:e,items:[t]})),4.1)),rSquare:_wrap(((e,t)=>({type:"array",start:e,end:t,items:[]})))},arrayOpen:{..._ignore("lineBreak"),...map_1([..._values,..._expressions],_wrap(((e,t)=>(e.items.push(t),e)),4.1)),rSquare:_wrap(((e,t)=>(e.type="array",e.end=t,e)))}},assignments=merge_1({...map_1(["symbol","propertyAccess","slice"],{assign:_wrap(((e,t)=>({type:"assignOpen",name:e,assign:t})),10)}),assignOpen:{...map_1([..._values,..._expressions],_wrap(((e,t)=>(e.type="assignment",e.value=t,e)),.001))}},{...map_1(["symbol","propertyAccess"],{assignment:_wrap(((e,t)=>({type:"typedAssignment",assignment:t,valueType:e})))})});const forbidden=["decoratedExportedFunction","importStatement"],blockLevels=_topLevels.filter((e=>!forbidden.includes(e)));var blocks={lineBreak:{indent:_wrap(((e,t)=>t),99)},indent:{...map_1(blockLevels,_wrap(((e,t)=>({type:"blockOpen",content:[t]})),0))},blockOpen:{..._ignore("lineBreak"),...map_1(blockLevels,_wrap(((e,t)=>(e.content.push(t),e)),0)),outdent:_wrap((e=>(e.type="block",e)))}},boosters=merge_1({...map_1(["symbol","propertyAccess","wrapped","slice","range","parallelFn","decorator","decoratorAccess"],{...map_1(["groupStart"],_wrap((()=>{}),.5))})},{...map_1(["symbol","propertyAccess","wrapped","slice","parallelFn","decorator","decoratorAccess"],{...map_1(["hash"],_wrap((()=>{}),.05))})}),calls=merge_1({...map_1(["symbol","parallelFn","propertyAccess","method","wrapped","parameter","decorator","decoratorAccess"],{...map_1([..._values,..._expressions],_wrap(((e,t)=>(e.isFn=!0,{type:"callOpen",fn:e,args:[t]})),3))}),callOpen:{...map_1([..._values,..._expressions],_wrap(((e,t)=>(e.args.push(t),e)),4)),...map_1(["lineBreak","ender"],_wrap((e=>{const t="decorator"===e.fn.type||"decoratorAccess"===e.fn.type;return e.type=t?"decoratorCall":"call",e}),1))},pipeOpen:{...map_1(["call","decoratorCall"],_wrap(((e,t)=>(t.args.unshift(e.data),t.isMap=e.isMap,t.isFlow=!0,t)))),...map_1(["symbol","parallelFn","method","propertyAccess","wrapped","parameter"],_wrap(((e,t)=>(t.isFn=!0,{type:"callOpen",fn:t,args:[e.data],isMap:e.isMap,isFlow:!0})),1)),awaited:_wrap(((e,t)=>{const{data:r,isMap:n}=e;return t.value.type.startsWith("call")?(t.value.args.unshift(r),t.value.isMap=n,t.value.awaited=!0,t.value.await=t.await,t.value.all=t.all,t.value.isFlow=!0,t.value):{type:"call",fn:t.value,args:[r],isMap:n,awaited:!0,all:t.all,await:t.await,isFlow:!0}}))},arrow:{mulOp:_wrap(((e,t)=>({type:"mapArrow",arrow:e,map:t})),4)}},{...map_1([..._values,..._expressions,"data"],{arrow:_wrap((e=>({type:"pipeOpen",data:e})),.31),mapArrow:_wrap((e=>({type:"pipeOpen",data:e,isMap:!0})),.31)})}),clio$1={...map_1(_rootLevels,{eof:_wrap((e=>({type:"clio",content:[e]})),0),clio:_wrap(((e,t)=>(t.content.unshift(e),t)),0)}),lineBreak:{clio:_wrap(((e,t)=>t),0),eof:_wrap((()=>({type:"clio",content:[]})))}},comparisons={...map_1([..._values,..._expressions],{...map_1(["eq","gt","lt","gte","lte"],_wrap(((e,t)=>({type:"comparisonOpen",lhs:e,op:t,comparisons:[]})),5))}),comparisonOpen:{..._ignore("lineBreak"),...map_1([..._values,..._expressions],_wrap(((e,t)=>({type:"comparison",lhs:e.lhs,comparisons:[...e.comparisons,{op:e.op,rhs:t}]})),6))},comparison:{..._ignore("lineBreak"),...map_1(["eq","gt","lt","gte","lte"],_wrap(((e,t)=>({type:"comparisonOpen",lhs:e.lhs,op:t,comparisons:e.comparisons}))))}},conditionals$1={if:{...map_1(_expressions,_wrap(((e,t)=>({type:"ifOpen",start:e,condition:t})),.05)),...map_1(_values,_wrap(((e,t)=>({type:"ifOpen",start:e,condition:t})),0))},ifOpen:{colon:_wrap((e=>(e.type="ifTail",e)))},ifTail:{..._ignore("lineBreak"),block:_wrap(((e,t)=>({type:"conditional",elseIfs:[],if:{...e,type:"ifBlock",body:t}}))),...map_1([..._expressions,..._values],_wrap(((e,t)=>({type:"conditional",elseIfs:[],if:{...e,type:"ifBlock",body:{type:"block",content:[t]}}})),0))},conditional:{lineBreak:_wrap((e=>e),100),else:_wrap(((e,t)=>({type:"ifElseOpen",if:e.if,elseIfs:e.elseIfs,open:{start:t}})))},ifElseOpen:{colon:_wrap((e=>(e.type="ifElseTail",e))),if:_wrap(((e,t)=>(e.open.if=t,e.type="ifElseIfNoCondition",e)))},ifElseIfNoCondition:{...map_1([..._expressions,..._values],_wrap(((e,t)=>(e.type="ifElseIfOpen",e.open.condition=t,e)),0))},ifElseIfOpen:{colon:_wrap((e=>(e.type="ifElseIfTail",e)))},ifElseIfTail:{..._ignore("lineBreak"),block:_wrap(((e,t)=>({type:"conditional",if:e.if,elseIfs:[...e.elseIfs,{...e.open,type:"elseIfBlock",body:t}],else:e.else}))),...map_1([..._expressions,..._values],_wrap(((e,t)=>{const r={type:"block",content:[t]};return{type:"conditional",if:e.if,elseIfs:[...e.elseIfs,{...e.open,type:"elseIfBlock",body:r}],else:e.else}}),0))},ifElseTail:{..._ignore("lineBreak"),block:_wrap(((e,t)=>({type:"fullConditional",if:e.if,elseIfs:[...e.elseIfs],else:{...e.open,type:"elseBlock",body:t}}))),...map_1([..._expressions,..._values],_wrap(((e,t)=>{const r={type:"block",content:[t]};return{type:"fullConditional",if:e.if,elseIfs:[...e.elseIfs],else:{...e.open,type:"elseBlock",body:r}}}),0))}},decorators={decoratorCall:{..._ignore("lineBreak"),function:_wrap(((e,t)=>(t.type="decoratedFunction",t.decorators=[e],t))),exportedFunction:_wrap(((e,t)=>(t.type="decoratedExportedFunction",t.value.decorators=[e],t))),...map_1(["decoratorCall","decorator","decoratorAccess"],_wrap(((e,t)=>({type:"decorators",decorators:[t,e]})),0))},...map_1(["decorator","decoratorAccess"],{..._ignore("lineBreak"),function:_wrap(((e,t)=>(t.type="decoratedFunction",t.decorators=[e],t))),exportedFunction:_wrap(((e,t)=>(t.type="decoratedExportedFunction",t.value.decorators=[e],t))),...map_1(["decoratorCall","decorator","decoratorAccess"],_wrap(((e,t)=>({type:"decorators",decorators:[t,e]})),0))}),decorators:{..._ignore("lineBreak"),function:_wrap(((e,t)=>(t.type="decoratedFunction",t.decorators=e.decorators,t))),exportedFunction:_wrap(((e,t)=>(t.type="decoratedExportedFunction",t.value.decorators=e.decorators,t))),...map_1(["decoratorCall","decorator","decoratorAccess"],_wrap(((e,t)=>(e.decorators.unshift(t),e)),0))}},fatAssignments={...map_1([..._values,..._expressions],{ender:rule_1((e=>e),.5),fatArrow:_wrap(((e,t)=>({type:"fatArrowOpen",arrow:t,value:e})),.31)}),fatArrowOpen:{...map_1(["symbol","propertyAccess","slice"],_wrap(((e,t)=>(e.type="arrowAssignment",e.name=t,e)),.31))},arrowAssignment:{..._ignore("lineBreak"),arrow:_wrap((e=>({type:"pipeOpen",data:e})))}},formattedStrings={...map_1(["symbol","propertyAccess","slice"],{format:_wrap((e=>({type:"fmtStrFn",fn:e,args:[]})),99)}),fmtStrFn:{fmtStart:_wrap((e=>(e.type="fmtOpen",e)),99)},fmtOpen:{...map_1(["fmtExpr","strEscape","fmtStr"],_wrap(((e,t)=>(e.args.push(t),e)),99)),fmtEnd:_wrap((e=>(e.type="formattedString",e)))},fmtExprStart:{...map_1(["lineBreak"],rule_1(lPluck_1,10)),...map_1([..._values,..._expressions],_wrap(((e,t)=>({type:"fmtExprOpen",start:e,content:t})),.11)),fmtExprEnd:_wrap((()=>({type:"fmtExpr",content:null}))),ender:_wrap((e=>e),100)},fmtExprOpen:{..._ignore("lineBreak"),fmtExprEnd:_wrap(((e,t)=>(e.type="fmtExpr",e.end=t,e)))}},functions={fn:{symbol:_wrap(((e,t)=>({start:e,type:"fnOpen",params:[],name:t})),10)},fnOpen:{symbol:_wrap(((e,t)=>(e.params.push(t),e)),10),colon:_wrap((e=>(e.type="fnTail",e)))},fnTail:{..._ignore("lineBreak"),block:_wrap(((e,t)=>(e.type="function",t.type="return",t.recursefn=e,e.body=t,e)),10),...map_1([..._expressions,..._values],_wrap(((e,t)=>(e.type="function",e.body={type:"return",content:[t]},e)),0))}},hashmaps={hash:{symbol:_wrap(((e,t)=>({type:"hashOpen",key:t,start:e,keyValues:[]})),4.1),indent:_wrap((e=>({type:"hashmapIndent",start:e,keyValues:[],isTopLevel:!0}))),ender:_wrap((e=>({type:"hashmap",start:e,keyValues:[]})))},hashOpen:{colon:_wrap((e=>(e.type="hashOpenColon",e)),4.1)},hashOpenColon:{...map_1(_values,_wrap(((e,t)=>(e.type="hashmap",e.keyValues.push({type:"keyValue",key:e.key,value:t}),e)),4.1)),indent:_wrap(((e,t)=>({type:"hashmapIndent",parent:e,keyValues:[],start:t})))},hashmap:{symbol:_wrap(((e,t)=>(e.key=t,e.type="hashOpen",e)),4.1),indent:_wrap((e=>(e.type="hashmapIndent",e.isTopLevel=!0,e)))},hashIndentOpen:{colon:_wrap((e=>(e.type="hashIndentOpenColon",e)),4.1)},hashIndentOpenColon:{...map_1(["lineBreak"],_wrap(lPluck_1,3)),...map_1(_values,_wrap(((e,t)=>(e.type="hashmapIndent",e.keyValues.push({type:"keyValue",key:e.key,value:t}),e)),4.1)),indent:_wrap(((e,t)=>({type:"hashmapIndent",parent:e,start:t,keyValues:[]})))},hashmapIndent:{...map_1(["lineBreak"],_wrap(lPluck_1,3)),symbol:_wrap(((e,t)=>(e.key=t,e.type="hashIndentOpen",e)),4.1),outdent:_wrap((e=>{const{parent:t,isTopLevel:r}=e;return r?(e.type="hashmap",e):(e.type="hashmap",t.type="hashOpenColon"==t.type?"hashmap":"hashmapIndent",t.keyValues.push({type:"keyValue",key:t.key,value:e}),t)}))}},imports={import:{string:_wrap(((e,t)=>({type:"importStatement",import:e,path:t}))),stringAsClause:_wrap(((e,t)=>({...t,import:e,type:"importStatement"})),99)},from:{string:_wrap(((e,t)=>({type:"fromPath",path:t,from:e,items:[]})),30)},fromPath:{import:_wrap(((e,t)=>({...e,import:t,type:"importFromOpen"})),29)},importFromOpen:{...map_1(["asClause","symbol"],_wrap(((e,t)=>({...e,items:[t],type:"importFromTail"})),31)),indent:_wrap((e=>(e.type="importFromIndented",e.items=[],e)),80)},importFromIndented:{...map_1(["asClause","symbol"],_wrap(((e,t)=>({...e,items:[...e.items,t]})),31)),outdent:_wrap((e=>({...e,type:"importStatement"}))),..._ignore("lineBreak")},importFromTail:{...map_1(["asClause","symbol"],_wrap(((e,t)=>(e.items.push(t),e)),31)),lineBreak:_wrap((e=>({...e,type:"importStatement"})),99)},...map_1(["symbol","mulOp"],{as:_wrap(((e,t)=>({type:"asOpen",lhs:e,as:t})),32)}),asOpen:{symbol:_wrap(((e,t)=>(e.rhs=t,e.type="asClause",e)),33)},string:{as:_wrap(((e,t)=>({type:"stringAsOpen",path:e,as:t})),32)},stringAsOpen:{symbol:_wrap(((e,t)=>({type:"stringAsClause",path:e.path,items:[{type:"asClause",as:e.as,rhs:t,lhs:{type:"mulOp"}}]})),33)}},logicals={...map_1([..._values,..._expressions],{...map_1(["and","or"],_wrap(((e,t)=>({type:"logicalOpen",lhs:e,op:t,logicals:[]})),2))}),logicalOpen:{..._ignore("lineBreak"),...map_1([..._values,..._expressions],_wrap(((e,t)=>({type:"logical",lhs:e.lhs,logicals:[...e.logicals,{op:e.op,rhs:t}]})),3))},logical:{..._ignore("lineBreak"),...map_1(["and","or"],_wrap(((e,t)=>({type:"logicalOpen",lhs:e.lhs,op:t,logicals:e.logicals}))))},not:{..._ignore("lineBreak"),...map_1([..._values,..._expressions],_wrap(((e,t)=>({type:"logicalNot",op:e,rhs:t})),3.5))}},math={...map_1([..._values,"math"],{powOp:_wrap(((e,t)=>({type:"powLhs",lhs:e,op:t})),9),mulOp:_wrap(((e,t)=>({type:"mulLhs",lhs:e,op:t})),8),divOp:_wrap(((e,t)=>({type:"divLhs",lhs:e,op:t})),8),addOp:_wrap(((e,t)=>({type:"addLhs",lhs:e,op:t})),7),subOp:_wrap(((e,t)=>({type:"subLhs",lhs:e,op:t})),7),modOp:_wrap(((e,t)=>({type:"modLhs",lhs:e,op:t})),7)}),...mapfn_1(["add","sub","mul","div","pow","mod"],(e=>[`${e}Lhs`,{..._ignore("lineBreak"),...map_1(_values,_wrap(((t,r)=>({type:"math",value:{type:e,op:t.op,lhs:t.lhs,rhs:r}})),10))}]))},methods={dot:{...map_1(["symbol","propertyAccess","slice"],_wrap(((e,t)=>({type:"method",dot:e,property:t})),11))}},parallelFns={pike:{symbol:_wrap(((e,t)=>({type:"pikeOpen",fn:t,start:e})))},pikeOpen:{pike:_wrap((e=>({type:"parallelFn",fn:e.fn,start:e.start})))}},properties={...map_1(["symbol","propertyAccess","slice","parameter"],{dot:_wrap(((e,t)=>({type:"propertyAccessOpen",lhs:e,dot:t})),912)}),propertyAccessOpen:{symbol:_wrap(((e,t)=>({...e,type:"propertyAccess",rhs:t})),913)},...map_1(["decorator","decoratorAccess"],{dot:_wrap(((e,t)=>({type:"decoratorAccessOpen",lhs:e,dot:t})),912)}),decoratorAccessOpen:{symbol:_wrap(((e,t)=>({...e,type:"decoratorAccess",rhs:t})),913)}},ranges={ranger:{...map_1(_values.filter((e=>!_ranges.includes(e))),_wrap(((e,t)=>({type:"range",location:e,end:t})),43)),by:_wrap(((e,t)=>({location:e,step:t.step,type:"rangeByOpen"})),99)},...map_1(_values.filter((e=>!_ranges.includes(e))),{ranger:_wrap(((e,t)=>({type:"range",start:e,location:t})),99.9)}),range:{...map_1(_values.filter((e=>!_ranges.includes(e))),_wrap(((e,t)=>(e.type="rangeFull",e.end=t,e)),45)),by:_wrap(((e,t)=>({...e,step:t.step,type:"rangeByOpen"})),99)},rangeFull:{by:_wrap(((e,t)=>({...e,step:t.step,type:"rangeByOpen"})),99)},by:{...map_1(_values.filter((e=>!_ranges.includes(e))),_wrap(((e,t)=>({type:"byRange",step:t,location:e})),47))},rangeByOpen:{...map_1(_values.filter((e=>!_ranges.includes(e))),_wrap(((e,t)=>({...e,type:"byRange",step:t,location:e})),47))}},sets={lCurly:{..._ignore("lineBreak"),...map_1([..._values,..._expressions],_wrap(((e,t)=>({type:"setOpen",start:e,items:[t]})))),rCurly:_wrap(((e,t)=>({type:"set",start:e,end:t,items:[]})))},setOpen:{..._ignore("lineBreak"),...map_1([..._values,..._expressions],_wrap(((e,t)=>(e.items.push(t),e)))),rCurly:_wrap(((e,t)=>(e.type="set",e.end=t,e)))}},slices={sliceOpen:{array:_wrap(((e,t)=>(e.type="slice",e.slicer=t,e)),100)},...map_1(_arrayLike,{slicer:_wrap((e=>({type:"sliceOpen",slicee:e})),99)})},wrapped={lParen:{...map_1(["lineBreak"],rule_1(lPluck_1,10)),...map_1([..._values,..._expressions],_wrap(((e,t)=>({type:"wrappedOpen",start:e,content:t})),.1)),rParen:_wrap((()=>({type:"wrapped",content:null}))),ender:_wrap((e=>e),100)},wrappedOpen:{..._ignore("lineBreak"),rParen:_wrap(((e,t)=>(e.type="wrapped",e.end=t,e)))}};const rules$1=merge_1(calls,blocks,parallelFns,functions,math,comparisons,logicals,conditionals$1,arrays,hashmaps,properties,methods,ranges,slices,sets,wrapped,formattedStrings,assignments,fatAssignments,_await,_exports,imports,_in,clio$1,boosters);var groups={groupStart:{...map_1(_lexerTokens,_wrap(((e,t)=>({type:"groupOpen",content:list_1([t]),open:1})),9999))},groupOpen:{...map_1(_lexerTokens,_wrap(((e,t)=>(e.content.push(t),e)),9999)),groupStart:_wrap((e=>(e.open++,e)),9999),groupEnd:_wrap(((e,t)=>(e.open--,e.open?e:bean_1(e.content,rules$1,!0,t).first.item)),9999)}},list={list:{symbol:_wrap(((e,t)=>({start:e,type:"listOpen",members:[],name:t})),10)},listOpen:{colon:_wrap((e=>(e.type="listTail",e)),10)},listTail:{indent:_wrap((e=>(e.type="listTailIndent",e)),10),...map_1(["symbol","propertyAccess"],_wrap(((e,t)=>(e.memberType=t,e.type="listTailSingle",e)),10))},listTailSingle:{lineBreak:_wrap((e=>(e.type="listDef",e)),10)},listTailIndent:{..._ignore("lineBreak"),...map_1(["symbol","propertyAccess"],_wrap(((e,t)=>(e.memberType=t,e.type="listTailIndentComplete",e)),10))},listTailIndentComplete:{..._ignore("lineBreak"),outdent:_wrap((e=>(e.type="listDef",e)),10)}},types$1={type:{symbol:_wrap(((e,t)=>({start:e,type:"typeOpen",members:[],name:t})),10)},typeOpen:{is:_wrap((e=>(e.type="typeOpenIsOpen",e))),colon:_wrap((e=>(e.type="typeTail",e)),10)},typeOpenIsOpen:{...map_1(["symbol","propertyAccess"],_wrap(((e,t)=>(e.extends=t,e.type="typeOpenIs",e))))},typeOpenIs:{colon:_wrap((e=>(e.type="typeTail",e)),10)},typeTail:{indent:_wrap((e=>(e.type="typeTailIndent",e)),10),...map_1(["symbol","propertyAccess"],_wrap(((e,t)=>(e.members.push({type:{type:"symbol",value:"Any"},name:t}),e.type="typeTailSingle",e)),10))},typeTailSingle:{lineBreak:_wrap((e=>(e.type="typeDef",e)),10),...map_1(["symbol","propertyAccess"],_wrap(((e,t)=>(e.members.push({type:{type:"symbol",value:"Any"},name:t}),e)),10))},typeTailIndent:{..._ignore("lineBreak"),outdent:_wrap((e=>(e.type="typeDef",e)),10),...map_1(["symbol","propertyAccess"],_wrap(((e,t)=>(e.curr=t,e.type="typeTailIndentCurr",e)),10))},typeTailIndentCurr:{lineBreak:_wrap((e=>(e.members.push({type:{type:"symbol",value:"Any"},name:e.curr}),e.curr=null,e.type="typeTailIndent",e))),...map_1(["symbol","propertyAccess"],_wrap(((e,t)=>(e.members.push({type:e.curr,name:t}),e.curr=null,e.type="typeTailIndent",e))))}};const rules=merge_1(_await,_exports,_in,arrays,assignments,blocks,boosters,calls,clio$1,comparisons,conditionals$1,decorators,fatAssignments,formattedStrings,functions,groups,hashmaps,imports,list,logicals,math,methods,parallelFns,properties,ranges,sets,slices,types$1,wrapped),{bold:bold,red:red}=source$1,unfinished=["blockOpen","addLhs","mulLhs","subLhs","divLhs","powLhs","comparisonOpen","logicalOpen","fnOpen","fnTail","export"],addLineNumber=(e,t)=>(r,n)=>" "+(n+e+1).toString().padStart(t," ")+" | "+r,getMessage=({file:e,line:t,start:r,column:n,source:i,expecting:s,rhs:o})=>{const a=colorize(i.split("\n").slice(r,t).join("\n")),l=red(getRuleName(o.item.type)),c=a.split("\n"),{length:u}=(r+1+c.length).toString(),h=`Expecting one of:\n\n${s}\n\nbut encountered ${l}`;return{message:[`Parsing error at ${e}[${t}:${n}]\n`,c.map(addLineNumber(r,u)).join("\n")," ".repeat(n+u+4)+"^",`${h}`].join("\n"),parseError:h}},wrapMessage=({name:e,file:t,line:r,start:n,column:i,source:s,message:o})=>{const a=colorize(s.split("\n").slice(n,r).join("\n")).split("\n"),{length:l}=(n+1+a.length).toString();return{message:[`${e} at ${t}[${r}:${i}]\n`,a.map(addLineNumber(n,l)).join("\n")," ".repeat(i+l+4)+"^",`${o}`].join("\n")}},getImportErrorMessage=e=>wrapMessage({name:"Import error",...e}),getTypeErrorMessage=e=>wrapMessage({name:"Type error",...e});class ParsingError extends Error{constructor(e){const{message:t,parseError:r}=getMessage(e);super(t),this.meta=e,this.meta.message=t,this.meta.parseError=r}}class ImportError extends Error{constructor(e){const{message:t}=getImportErrorMessage(e);super(t),this.meta=e,this.meta.importError=e.message,this.meta.message=t}}class TypeError$1 extends Error{constructor(e){const{message:t}=getTypeErrorMessage(e);super(t),this.meta=e,this.meta.typeError=e.message,this.meta.message=t}}class LexingError extends Error{constructor(e){super(e.message),this.meta=e}}const isUnfinished=e=>unfinished.includes(e.item.type),findFirstUnfinished=e=>{let t=e.first,r=e.first.next;for(;r.next&&!isUnfinished(t)||isUnfinished(r);)t=r,r=t.next;if("clio"===r.item.type&&r.item.content[0]){const{meta:e}=r.item;r={meta:e,item:r.item.content[0]}}return{lhs:t,rhs:r}},ignoreRules=["lineBreak","outdent"],ruleNames={ranger:"Range",rangeFull:"Range",rangeBy:"Range",byRange:"Range",formattedString:"String",hashmap:"Hash Map",propertyAccess:"Property",inCheck:"In Check",parallelFn:"Parallel Function",typedAssignment:"Assignment",arrowAssignment:"Assignment",decoratedExportedFunction:"Export",decoratedFunction:"Function",fullConditional:"Conditional",logicalNot:"Logical",listDef:"List",typeDef:"Type",parameterCall:"Call"},ruleGroups={true:"Built-ins",false:"Built-ins",null:"Built-ins",string:"Primitives",formattedString:"Primitives",number:"Primitives",array:"Structural",set:"Structural",hashmap:"Structural",slice:"Structural",range:"Structural",ranger:"Structural",rangeFull:"Structural",rangeBy:"Structural",byRange:"Structural",symbol:"Names",propertyAccess:"Names",parameter:"Names",logical:"Control",logicalNot:"Control",fullConditional:"Control",conditional:"Control",comparison:"Control",inCheck:"Control",wrapped:"Structural"},titleCase=e=>e[0].toUpperCase()+e.slice(1),getRuleName=e=>ruleNames[e]||titleCase(e),formatExpectedRules=e=>{const t={};for(const r of e){if(ignoreRules.includes(r))continue;const e=getRuleName(r),n=ruleGroups[r]||"Other";t[n]?t[n].includes(e)||t[n].push(e):t[n]=[e]}return Object.entries(t).sort((([e],[t])=>"Other"===t?-1/0:e.localeCompare(t))).map((([e,t])=>`  ${bold(e)}:\t${t.sort().join(", ")}`)).join("\n")},parsingError=(e,t,r)=>{const{lhs:n,rhs:i}=findFirstUnfinished(r),s=Object.keys(rules[n.item.type]||{}),o=formatExpectedRules(s),a=Math.max(0,i.item.line-3),l=i.item.meta?.location||i.item,{line:c,column:u}=l;return new ParsingError({file:t,line:c,start:a,column:u,source:e,expecting:o,rhs:i})},importError=({source:e,file:t,message:r,line:n,column:i})=>{const s=Math.max(0,n-3);return new ImportError({source:e,file:t,line:n,column:i,message:r,start:s})},typeError=({source:e,file:t,message:r,line:n,column:i})=>{const s=Math.max(0,n-3);return new TypeError$1({source:e,file:t,line:n,column:i,message:r,start:s})},compileImport=(e,t,r)=>{if(r.sourceDir){const n=!e.match(/^(\.{1,2})?\//),i=t.source,{root:s,compileFile:o,config:a,configPath:l,modulesDir:c,modulesDestDir:u,srcPrefix:h,destPrefix:p,cacheDir:f,configs:d={},npmDeps:m={},npmDevDeps:g={},imports:y=[]}=r;if(n){const t=e.split("/").shift(),n=join$1(s,c,t,"clio.toml"),a=d[t]||getPackageConfig(n);d[t]=a,r.configs=d;const l=join$1(c,t),h=join$1(u,t);m[t]||(m[t]=getParsedNpmDependencies(n),r.npmDeps=m),g[t]||(g[t]=getParsedNpmDevDependencies(n),r.npmDevDeps=g);const{scope:p,destFile:b,srcFile:w}=o(i,a,n,c,u,s||dirname(n),l,h,f,{npmDeps:m,npmDevDeps:g,configs:d});return y.push({module:t,src:w,dest:b}),r.imports=y,p}{const{scope:e,destFile:t,srcFile:n}=o(i,a,l,c,u,s,h,p,f,{npmDeps:m,npmDevDeps:g,configs:d});return y.push({module:"",src:n,dest:t}),r.imports=y,e}}return{}},ensureClioExtension=e=>e.endsWith(".clio")?e:e+".clio",toRelative=e=>e.match(/^\.{1,2}\//)?e:"./"+e,resolveRelativeModule=(e,t,r,n)=>{const i=dirname(join$1(e.root,e.srcPrefix,e.sourceDir,e.file)),s=[],o=resolve(i,t);o.endsWith(".clio")?s.push(o):s.push(o+".clio"),s.push(join$1(o,"main.clio"));for(const e of s)if(existsSync(e)){if(e.match(/^\.{1,2}\//))return{source:e,require:e+".js"};const t=relative(i,e);return{source:t,require:toRelative(t+".js")}}throw importError({file:e.file,source:e.source,message:[`Cannot find module "${t}" in any of the following locations:\n`,...s.map((t=>`  - ${relative(e.srcPrefix,t)}`))].join("\n"),line:r,column:n})},resolveAbsoluteModule=(e,t,r,n)=>{const i=dirname(join$1(e.root,e.srcPrefix,e.sourceDir,e.file)),s=[],o=resolve(e.root,e.srcPrefix,e.sourceDir,t.slice(1));o.endsWith(".clio")?s.push(o):s.push(o+".clio"),s.push(join$1(o,"main.clio"));for(const e of s)if(existsSync(e)){if(e.match(/^\.{1,2}\//))return{source:e,require:e+".js"};const t=relative(i,e);return{source:t,require:toRelative(t+".js")}}throw importError({file:e.file,source:e.source,message:[`Cannot find module "${t}" in any of the following locations:\n`,...s.map((t=>`  - ${relative(e.root,t)}`))].join("\n"),line:r,column:n})},resolveModule=(e,t,r,n)=>{const[i,s=""]=t.match(/(.*?)(?:$|\/(.*))/).slice(1),o=join$1(e.root,e.modulesDir,i);if(!existsSync(o))throw importError({file:e.file,source:e.source,message:[`Cannot find module "${i}" in your project.`,"Are you sure it is installed?"].join("\n"),line:r,column:n});const{source:a,destination:l}=e.config.build,c=resolve(e.root,e.modulesDir,i,a),u=[],h=t=>({source:resolve(c,t),destination:resolve(e.modulesDestDir,i,l,t)});s.endsWith(".clio")?u.push(h(s)):u.push(h(s+".clio")),u.push(h(join$1(s,"main.clio")));for(const t of u)if(existsSync(t.source)){if(t.destination.match(/^\.{1,2}\//))return{source:t.source,require:t.destination+".js"};const r=toRelative(relative(dirname(e.destFile),t.destination)+".js");return{source:relative(c,t.source),require:r}}throw importError({file:e.file,source:e.source,message:[`Cannot find module "${t}" in any of the following locations:\n`,...u.map((t=>`  - ${relative(e.root,t.source)}`))].join("\n"),line:r,column:n})},getImportPath=(e,t,r,n)=>{if(!e.sourceDir){const e=ensureClioExtension(t);return{source:e,require:e+".js"}}return t.match(/^\.{1,2}\//)?resolveRelativeModule(e,t,r,n):t.match(/^\//)?resolveAbsoluteModule(e,t,r,n):resolveModule(e,t,r,n)},cjs=(e,t,r)=>{const n=e.path.value.slice(1,-1).replace(/^[^:]*:/,""),i=n.split("/").pop().replace(/\.[^.]*$/,"").split("/").pop().replace(/@.*$/,"").split(/[-._]+/).filter(Boolean).map(((e,t)=>t>0?e[0].toUpperCase()+e.slice(1):e)).join(""),s="default"+i[0].toUpperCase()+i.slice(1),o=new SourceNode(e.import.line,e.import.column,e.import.file,["import ",e.items?s:i," from ",'"',n,'"']);let a=new SourceNode(null,null,null,"");if(e.items){let n,i=[];for(const s of e.items)if("symbol"===s.type){const e=r(s,t);i.push(e)}else if("symbol"===s.lhs.type){const e=r(s.lhs,t),n=r(s.rhs,t);i.push(new SourceNode(s.as.line,s.as.column,s.as.file,[e,":",n]))}else{const e=r(s.rhs,t);n=new SourceNode(s.as.line,s.as.column,s.as.file,["...",e]),n.name=e}n&&i.push(n),a=n&&1==i.length?new SourceNode(null,null,null,["const ",n.name,"=",s]):new SourceNode(null,null,null,["const{",new SourceNode(null,null,null,i).join(","),"}=",s])}return a.topLevel=o,a},esm=(e,t,r)=>{if(e.items?.length>1&&1===e.items.filter((e=>"mulOp"===e.lhs.type)).length)return cjs(e,t,r);const n=e.path.value.slice(1,-1).replace(/^[^:]*:/,""),i=n.split("/").pop().replace(/\.[^.]*$/,"").split("/").pop().replace(/@.*$/,"").split(/[-._]+/).filter(Boolean).map(((e,t)=>t>0?e[0].toUpperCase()+e.slice(1):e)).join(""),s=new SourceNode(e.import.line,e.import.column,e.import.file,["from ",'"',n,'"']);let o;if(e.items){let n,i=[];for(const s of e.items)if("symbol"===s.type){const e=r(s,t);i.push(e)}else if("symbol"===s.lhs.type){const e=r(s.lhs,t),n=r(s.rhs,t);i.push(new SourceNode(s.as.line,s.as.column,s.as.file,[e," as ",n]))}else{const e=r(s.rhs,t);n=new SourceNode(s.as.line,s.as.column,s.as.file,["* as ",e]),n.name=e}o=new SourceNode(null,null,null,n?["import ",n," ",s]:["import{",new SourceNode(null,null,null,i).join(","),"}",s])}else o=new SourceNode(null,null,null,["import ",i," ",s]);const a=new SourceNode(null,null,null,"");return a.topLevel=o,a},clio=(e,t,r)=>{const n=e.path.value.slice(1,-1),i=n.split("/").pop().replace(/\.[^.]*$/,"").split("/").pop().replace(/@.*$/,"").split(/[-._]+/).filter(Boolean).map(((e,t)=>t>0?e[0].toUpperCase()+e.slice(1):e)).join(""),s="default"+i[0].toUpperCase()+i.slice(1),{line:o,column:a}=e.path,l=getImportPath(t,n,o,a),c=compileImport(n,l,t),u=new SourceNode(e.import.line,e.import.column,e.import.file,["import ",s," from ",'"',l.require,'"']);let h;if(e.items){let n,i=[];for(const s of e.items)if("symbol"===s.type){const e=r(s,t);i.push(e),c[e]&&(t.scope[e]=c[e])}else if("symbol"===s.lhs.type){const e=r(s.lhs,t),n=r(s.rhs,t);i.push(new SourceNode(s.as.line,s.as.column,s.as.file,[e,":",n])),c[e]&&(t.scope[n]=c[e])}else{const i=r(s.rhs,t);n=new SourceNode(s.as.line,s.as.column,s.as.file,["...",i]),n.name=i;const o=e.items.filter((e=>"symbol"===e.type||"symbol"===e.lhs?.type)).map((e=>"symbol"===e.type?r(e,t).toString():r(e.rhs,t).toString()));for(const e of Object.keys(c))o.includes(e)||(t.scope[`${i}.${e}`]=c[e])}n&&i.push(n),h=n&&1==i.length?new SourceNode(null,null,null,["const ",n.name,"=await ",s,"(clio)"]):new SourceNode(null,null,null,["const{",new SourceNode(null,null,null,i).join(","),"}=await ",s,"(clio)"])}else{h=new SourceNode(null,null,null,["const ",i,"=await ",s,"(clio)"]);for(const e of Object.keys(c))t.scope[`${i}.${e}`]=c[e]}return h.topLevel=u,h},remote=(e,t,r,n)=>{const i=t.path.value.slice(1,-1).replace(/^[^:]*:/,""),s=i.split("/").pop().replace(/\.[^.]*$/,"").split("/").pop().replace(/@.*$/,"").split(/[-._]+/).filter(Boolean).map(((e,t)=>t>0?e[0].toUpperCase()+e.slice(1):e)).join(""),o=new SourceNode(t.import.line,t.import.column,t.import.file,["await remote(clio,",'"',e+"://"+i,'")']);let a;if(t.items){let e,i=[];for(const s of t.items)if("symbol"===s.type){const e=n(s,r);i.push(e)}else if("symbol"===s.lhs.type){const e=n(s.lhs,r),t=n(s.rhs,r);i.push(new SourceNode(s.as.line,s.as.column,s.as.file,[e,":",t]))}else{const t=n(s.rhs,r);e=new SourceNode(s.as.line,s.as.column,s.as.file,["...",t]),e.name=t}e&&i.push(e),a=e&&1==i.length?new SourceNode(null,null,null,["const ",e.name,"="]):new SourceNode(null,null,null,["const{",new SourceNode(null,null,null,i).join(","),"}="])}else a=new SourceNode(null,null,null,["const ",s,"="]);return new SourceNode(null,null,null,[a,o])},join=(e,t)=>new SourceNode(null,null,null,e).join(t),asIs=e=>new SourceNode(e.line,e.column,e.file,e.value),conditionals=["fullConditional","conditional"],checkLambda=(e,t,r,n,i)=>e.lambda?.length?get({type:"lambda",body:i?get(t,r):t,params:e.lambda},r):n?get(e,r):e,getFnName=(e,t)=>{let r=e;return"wrapped"===e.type&&(r=e.content),"function"===r.type?get(r.name,t).toString():get(r,t).toString()},getCallFn=(e,t)=>{if("method"===e.fn.type){if(!e.isMap)return{type:"propertyAccess",lhs:e.args.shift(),dot:e.fn.dot,rhs:e.fn.property};if(e.args.length>1)return{type:"propertyAccess",lhs:{type:"symbol",value:"$item"},dot:e.fn.dot,rhs:e.fn.property,dropData:!0,dropMeta:!0};const r={type:"propertyAccess",lhs:{type:"symbol",value:"$item"},dot:e.fn.dot,rhs:e.fn.property};return{type:"wrapped",start:{value:"("},end:{value:")"},content:{type:"function",start:e.fn,noParallel:!0,name:{type:"symbol",value:""},needsAsync:e.needsAsync,params:[{type:"symbol",value:"$item"}],body:{type:"return",returnType:t[get(r)]?.returns,content:[{type:"call",fn:r,args:[]}]}}}}return e.fn},checkRecursive=(e,t)=>{const r=e.content[e.content.length-1];if(conditionals.includes(r.type)){return[r.if.body,...r.elseIfs.map((e=>e.body)),r.else?.body].filter(Boolean).map((t=>({...t,recursefn:e.recursefn}))).some((e=>checkRecursive(e,t)))}if("call"===r.type){const n="symbol"===r.fn.type&&get(r.fn,t).toString(),i=e.recursefn?.name&&get(e.recursefn.name,t).toString();return n&&n===i}return!1},getTypeById=(e,t)=>{for(const r in t)if(e===t[r].id)return t[r]},getListTypesOf=(e,t)=>{const r=[];for(const n in t){const i=t[n];"ListType"===i.type&&i.accepts[0].id===e&&r.push(i)}return r.length?r:"Any"},getTypeOf=(e,t)=>{const{scope:r}=t;if("number"===e.type)return"Number";if("string"===e.type)return"String";if("array"===e.type)return"Array";if("hashmap"===e.type)return"Object";if("parameter"===e.type)return"Parameter";if("symbol"===e.type)return r[get(e,t)]?.type;if("propertyAccess"===e.type&&"call"!==e.lhs.type)return r[get(e,t)]?.type;if("wrapped"===e.type)return e.lambda?.length?"Function":getTypeOf(e.content,t);if("call"===e.type&&"symbol"===e.fn.type)return r[get(e.fn,t)]?.returns;if("call"===e.type&&"propertyAccess"===e.fn.type)return r[get(e.fn,t)]?.returns;if("call"===e.type&&"wrapped"===e.fn.type)return get(e.fn,t)?.returns;if("mapCall"===e.type&&"symbol"===e.fn.type){const n=r[get(e.fn,t)]?.returns;return getListTypesOf(n,r)}if("mapCall"===e.type&&"propertyAccess"===e.fn.type){const n=r[get(e.fn,t)]?.returns;return getListTypesOf(n,r)}if("math"===e.type){const{lhs:r,rhs:n}=e.value,i=getTypeOf(r,t)||"Any",s=getTypeOf(n,t)||"Any";if("Parameter"===i)return r.typeInfo="Parameter"===s.type?"Any":s.type,n.typeInfo="Parameter"===s.type?"Any":s.type,r.typeInfo;if("Parameter"===s)return n.typeInfo=i.type,n.typeInfo;if("Any"===i||"Any"===s)return"Any";if("add"===e.value.type){if(i!==s||!["Number","String"].includes(i))throw typeError({source:t.source,file:t.file,line:e.value.op.line,column:e.value.op.column,message:`Cannot add ${i} and ${s}.`})}else if(i!==s||"Number"!==i)throw"pow"===e.value.type?typeError({source:t.source,file:t.file,line:e.value.op.line,column:e.value.op.column,message:`Cannot calculate ${i} to the power of ${s}.`}):"mul"===e.value.type?typeError({source:t.source,file:t.file,line:e.value.op.line,column:e.value.op.column,message:`Cannot multiply ${i} by ${s}.`}):"div"===e.value.type?typeError({source:t.source,file:t.file,line:e.value.op.line,column:e.value.op.column,message:`Cannot divide ${i} by ${s}.`}):"sub"===e.value.type?typeError({source:t.source,file:t.file,line:e.value.op.line,column:e.value.op.column,message:`Cannot subtract ${s} from ${i}.`}):typeError({source:t.source,file:t.file,line:e.value.op.line,column:e.value.op.column,message:`Applying "${e.value.op}" is not allowed on ${i} and ${s}`});return i}},toProperCall=(e,t)=>{const r=e.content[e.content.length-1];if(conditionals.includes(r.type)){[r.if.body,...r.elseIfs.map((e=>e.body)),r.else?.body].filter(Boolean).map((t=>(t.recursefn=e.recursefn,t))).map((e=>toProperCall(e,t)))}else if("call"===r.type){const n="symbol"===r.fn.type&&get(r.fn,t).toString(),i=e.recursefn?.name&&get(e.recursefn.name,t).toString();n&&n===i&&(r.type="properCall",r.paramNames=e.recursefn.params.map((e=>get(e,t).toString())),r.optimized=!0,e.optimized=!0)}return e},types={symbol:e=>asIs(e),number:e=>new SourceNode(e.line,e.column,e.file,e.value.replace(/_/g,"")),awaited(e,t){const r=e.all?["Promise.all(",get(e.value,t),")"]:[get(e.value,t)];e.await.value.startsWith("[")&&(e.await.value=e.await.value.slice(1,-1));const n=new SourceNode(e.await.line,e.await.column,e.await.file,["(",asIs(e.await)," ",...r,")"]);return n.needsAsync=!0,n},mapCall(e,t){const{awaited:r,all:n}=e,i=getCallFn(e,t.scope),s=getFnName(i,t),o=getTypeOf(i,t);if(o&&!["Function","Any","Type"].includes(o))throw typeError({source:t.source,file:t.file,line:i.line,column:i.column,message:`Value ${get(i,t)} is of type ${o} and is not callable.`});const{accepts:a}=t.scope[s]||{};if(a){const r=e.args[0],n=getTypeOf(r,t)||"Any",i=getTypeById(n,t.scope),s=i?.type;if("Any"!==n&&"Array"!==n&&"ListType"!==s){const e=n.split("/").pop();throw typeError({source:t.source,file:t.file,line:r.line,column:r.column,message:`Cannot map a function to an argument of type ${e}`})}if("Array"===n)for(let e=0;e<r.items.length;e++){const n=r.items[e],i=getTypeOf(n,t)||"Any";if(i!==a[0]){const r=i.split("/").pop(),s=a[0].split("/").pop();throw typeError({source:t.source,file:t.file,line:n.line,column:n.column,message:`Element ${e} of type ${r} does not satisfy parameter of type ${s}`})}}else if("ListType"===s){const e=i.accepts[0].id;if(e!==a[0]){const n=e.split("/").pop(),i=a[0].split("/").pop();throw typeError({source:t.source,file:t.file,line:r.line,column:r.column,message:`Items in array of type ${n} do not satisfry parameter of type ${i}`})}}for(let r=1;r<e.args.length;r++){const n=e.args[r],i=getTypeOf(n,t)||"Any";if(!(i===a[r]||"Any"===a[r]||"Parameter"===i)){const e=i.split("/").pop(),s=a[r].split("/").pop();throw typeError({source:t.source,file:t.file,line:n.line,column:n.column,message:`Argument of type ${e} at position ${r} does not satisfy parameter of type ${s}`})}"Parameter"===i&&(n.typeInfo=a[r]||t.scope.Any)}}const l="Type"===o,c=e.args.map((e=>get(e,t))),u=c.map((e=>e.insertBefore)).filter(Boolean);i.insertBefore&&u.unshift(i.insertBefore);const h=c.shift(),p=h.needsAsync||c.some((e=>e.needsAsync));let f;f=c.length?new SourceNode(null,null,null,[p?"async ":"","($item",i.dropMeta?")=>":", $index, $iterator)=>",l?"new ":"",get(i,t),i.dropData?"(":"($item,",join(c,","),i.dropMeta?")":",$index,$iterator)"]):l?new SourceNode(null,null,null,["((...args) => new ",get(i,t),"(...args))"]):get(i,t),f.insertBefore&&u.unshift(f.insertBefore);let d=new SourceNode(i.line,i.column,i.file,[h,".","map","(",f,")"]);if(r){const t=n?["Promise.all(",d,")"]:[d];e.await.value.startsWith("[")&&(e.await.value=e.await.value.slice(1,-1)),d=new SourceNode(e.await.line,e.await.column,e.await.file,["(",asIs(e.await)," ",...t,")"])}return u.length&&(d.insertBefore=u),d.needsAsync=r||h.needsAsync||c.some((e=>e.needsAsync))||f.needsAsync,d},properCall(e,t){const r=e.paramNames,n=r.map(((r,n)=>{let i="undefined";if(e.args[n]){const r=get(e.args[n],t);r.toString()&&(i=r)}return new SourceNode(null,null,null,[`__${r}=`,i,";"])})),i=r.map((e=>`${e}=__${e};`));return new SourceNode(null,null,null,[n,i,"__recurse=true;","continue __",get(e.fn,t),";"])},parameterCall:(e,t)=>get({...e,type:"call"},t),call(e,t){if(e.isMap)return e.type="mapCall",get(e,t);const{awaited:r,all:n}=e,i=getCallFn(e,t.scope),s=getTypeOf(i,t);if(s&&!["Function","Any","Type"].includes(s))throw typeError({source:t.source,file:t.file,line:i.line,column:i.column,message:`Value ${get(i,t)} is of type ${s} and is not callable.`});const o=e.args.map((e=>get(e,t))),a=o.map((e=>e.insertBefore)).filter(Boolean),l=get(i,t),{accepts:c}=t.scope[l]||{};if(c)for(let r=0;r<e.args.length;r++){const n=e.args[r],i=getTypeOf(n,t);if(!(i===c[r]||"Any"===c[r]||"Parameter"===i)){const e=i.split("/").pop(),s=c[r].split("/").pop();throw typeError({source:t.source,file:t.file,line:n.line,column:n.column,message:`Argument of type ${e} at position ${r} does not satisfy parameter of type ${s}`})}"Parameter"===i&&(n.typeInfo=c[r]||t.scope.Any)}l.insertBefore&&a.unshift(l.insertBefore);let u=new SourceNode(i.line,i.column,i.file,[..."Type"===s?["new "]:[],l,"(",join(o,","),")"]);if(r){const t=n?["Promise.all(",u,")"]:[u];e.await.value.startsWith("[")&&(e.await.value=e.await.value.slice(1,-1)),u=new SourceNode(e.await.line,e.await.column,e.await.file,["(",asIs(e.await)," ",...t,")"])}return a.length&&(u.insertBefore=a),u.needsAsync=r||o.some((e=>e.needsAsync))||l.needsAsync,u},...mapfn_1(["add","mul","div","sub","mod","pow"],(e=>[e,(e,t)=>{const{op:r}=e,n=get(e.lhs,t),i=get(e.rhs,t),s=new SourceNode(null,null,null,[n,new SourceNode(r.line,r.column,r.file,r.value),i]);return s.needsAsync=n.needsAsync||i.needsAsync,(n.insertBefore||i.insertBefore)&&(s.insertBefore=[...n.insertBefore,...i.insertBefore]),s}])),math:(e,t)=>(getTypeOf(e,t),get(e.value,t)),block(e,t){const r=e.content.map((e=>get(e,t))).map((e=>[e.insertBefore,e])).flat().filter(Boolean),n=new SourceNode(null,null,null,[new SourceNode(null,null,null,r).join(";")]);return n.needsAsync=r.some((e=>e.needsAsync)),n},recursiveReturn(e,t){const r=e.recursefn.params.map((e=>get(e,t).toString())),n=r.length?"let "+r.map((e=>`__${e}`)).join(",")+";":"",i=toProperCall(e,t);i.type="return",i.returnType=e.returnType,i.optimized=!0;const s=get(i,t),o=get(e.recursefn.name,t),a=new SourceNode(null,null,null,[`${n}let __recurse = true;`,`__${o}: while(__recurse) {`,"__recurse = false;",s,"}"]);return a.needsAsync=s.needsAsync,a},return(e,t){if(!e.optimized&&checkRecursive(e,t))return e.type="recursiveReturn",get(e,t);let r=e.content[e.content.length-1],n=!e.optimized&&!r.optimized;const i=e.content.slice(0,-1).map((e=>get(e,t))).map((e=>[e.insertBefore,e])).flat().filter(Boolean);if(conditionals.includes(r.type))r.if.body.optimized||(r.if.body.type="return",r.if.body.returnType=e.returnType),r.elseIfs.forEach((t=>{t.body.optimized||(t.body.type="return",t.body.returnType=e.returnType)})),r.else&&!r.else.body.optimized&&(r.else.body.type="return",r.else.body.returnType=e.returnType),n=!1;else if("assignment"===r.type){const e=get(r,t);e.insertBefore&&i.push(e.insertBefore),i.push(e),r=r.name}else if("typedAssignment"===r.type){const e=get(r,t);e.insertBefore&&i.push(e.insertBefore),i.push(get(r,t)),r=r.assignment.name}if(n&&e.returnType){const n=getTypeOf(r,t);if(e.returnType!==n){const i=n?n.split("/").pop():"Any",s=e.returnType.split("/").pop();throw typeError({source:t.source,file:t.file,line:r.line,column:r.column,message:`Cannot return value of type ${i} from a function of type ${s}`})}}let s=get(r,t);s.returnAs&&(s=s.returnAs);const o=new SourceNode(null,null,null,[new SourceNode(null,null,null,i).join(";"),...i.length?[";"]:[],...s.insertBefore?[s.insertBefore,";"]:[],...n?["return "]:[],s]);return o.needsAsync=s.needsAsync||i.some((e=>e.needsAsync)),o},decoratedExportedFunction(e,t){e.value.type="decoratedFunction";const r=get(e.value,t),n=get(e.name,t),i=new SourceNode(e.export.line,e.export.column,e.export.file,["clio.exports.",n,"=",n]);return i.insertBefore=[r.insertBefore,r].filter(Boolean),i.fn=r.fn,i},decoratedFunction(e,t){const{start:r}=e,n=get(e.name,t),i=[];for(const r of e.decorators)if("decoratorCall"===r.type){const{fn:e,args:s}=r;switch(e.value){case"@describe":const e=s.filter((e=>["string","number"].includes(e.type))).map((e=>{const r=get(e,t).toString();return"string"===e.type?r.slice(1,-1):r})).join(" ");e&&i.push(e);break;case"@returns":const r=get(s[0],t).toString(),o=t.scope[r];if(!o)throw typeError({source:t.source,file:t.file,line:s[0].line,column:s[0].column,message:`Identifier ${r} is not defined.`});t.scope[n]={...t.scope[n],returns:o.id};break;case"@params":for(const e of s){const r=get(e,t);if(!t.scope[r])throw typeError({source:t.source,file:t.file,line:e.line,column:e.column,message:`Identifier ${r} is not defined.`})}const a=s.map((e=>get(e,t).toString())).map((e=>t.scope[e].id));t.scope[n]={...t.scope[n],accepts:a}}}const s=i.join("\n");t.scope[n]={...t.scope[n],description:s};let o=get({...e,type:"function",skipName:!0},t);for(const r of e.decorators)if("decorator"===r.type){const e={...r,type:"symbol",value:r.value.slice(1)};o=new SourceNode(null,null,null,[get(e,t),"(",o,")"])}else if("decoratorAccess"===r.type){const{lhs:e}=r,n={...e,type:"symbol",value:e.value.slice(1)};r.lhs=n,r.type="propertyAccess",o=new SourceNode(null,null,null,[get(r,t),"(",o,")"])}else if("decoratorCall"===r.type)if("decorator"===r.fn.type){const e=r.fn,n={...e,type:"symbol",value:e.value.slice(1)};r.fn=n,r.type="call",r.args.push({type:"asIs",value:o}),o=get(r,t)}else{const{lhs:e}=r.fn,n={...e,type:"symbol",value:e.value.slice(1)};r.fn.lhs=n,r.fn.type="propertyAccess",r.type="call",r.args.push({type:"asIs",value:o}),o=get(r,t)}const a=new SourceNode(r.line,r.column,r.file,["const ",n,"=",o]);return a.fn={doc:s,name:n},a},asIs:e=>e.value,function(e,t){const r={...t.scope},{start:n}=e,i=get(e.name,t),s=e.params.map((e=>get(e,t))),o=t.scope[i]?.accepts;if(o)for(let e=0;e<s.length;e++){const r=s[e],n=t.scope[o[e]].id;t.scope[r]={type:n}}const a=t.scope[i]?.returns;e.body.returnType=a;const l=get(e.body,t),c=new SourceNode(n.line,n.column,n.file,[...!e.skipName&&i.toString()?["const ",i,"="]:[],...!e.skipName&&i.toString()?["register"]:[],"(",...!e.skipName&&i.toString()?["`",t.rpcPrefix,"/",n.file,"/",i,"`,"]:[],l.needsAsync?"async":"","(",new SourceNode(null,null,null,s).join(","),")=>","{",l,"})"]);return c.needsAsync=!1,c.returnAs=new SourceNode(null,null,null,i),c.returnAs.insertBefore=c,c.fn={name:i},t.scope=r,i.toString()&&(t.scope[i]={...t.scope[i],type:"Function",id:[t.rpcPrefix,n.file,i.toString()].join("/"),params:s.map((e=>e.toString()))}),c},exportedFunction(e,t){const r=get(e.value,t),n=get(e.value.name,t),i=new SourceNode(e.export.line,e.export.column,e.export.file,["clio.exports.",n,"=",n]);return i.insertBefore=[r.insertBefore,r].filter(Boolean),i.fn=r.fn,i},exported(e,t){const r=get(e.value,t),n=e.name instanceof SourceNode?e.name:get(e.name,t),{line:i,column:s,file:o}=e.export,a=new SourceNode(i,s,o,["clio.exports.",n,"=",n]);return a.insertBefore=[r.insertBefore,"symbol"===e.value.type?null:r].filter(Boolean),a},importStatement(e,t){const r=e.path.value.slice(1,-1).match(/^[^:]*(?=:)/)?.[0]||"clio";return"cjs"===r?cjs(e,t,get):"esm"===r?esm(e,t,get):"clio"===r?clio(e,t,get):remote(r,e,t,get)},lambda(e,t){const{body:r}=e,n=[],i=new Set,s=[];for(const r of e.params)i.has(r.value)||(i.add(r.value),n.push(get(r,t)),s.push(r.typeInfo||"Any"));const o=e.params[0],a=new SourceNode(o.line,o.column,o.file,[r.needsAsync?"async ":"","(",new SourceNode(null,null,null,n).join(","),")","=>",r]);return a.accepts=s,a.returns=getTypeOf(r.node,t),a},parallelFn(e,t){const{start:r,fn:n}=e;return new SourceNode(r.line,r.column,r.file,[get(n,t),".parallel"])},comparison(e,t){const r=[];for(const{op:t}of e.comparisons)"=="===t.value&&(t.value="===");const n=e.comparisons.shift(),i=get(e.lhs,t);let s=i.needsAsync,o=get(n.rhs,t);r.push("(",i,new SourceNode(n.op.line,n.op.column,n.op.file,n.op.value),o,")");let a=o;for(const{op:n,rhs:i}of e.comparisons){const e=get(i,t);s=s||i.needsAsync,r.push("&&","(",a,new SourceNode(n.line,n.column,n.file,n.value),e,")"),a=e}const l=new SourceNode(null,null,null,r);return l.needsAsync=s,l.lambda=e.lambda,l},logicalNot(e,t){const{op:r}=e,n=get(e.rhs,t),i=new SourceNode(r.line,r.column,r.file,[new SourceNode(r.line,r.column,r.file,"!"),"(",n,")"]);return i.needsAsync=n.needsAsync,i},logical(e,t){const r=e.logicals.map((e=>({...e,rhs:get(e.rhs,t)}))),n=get(e.lhs,t),i=["(",n,")",...r.map((({op:e,rhs:t})=>[new SourceNode(e.line,e.column,e.file,"and"===e.value?"&&":"||"),"(",t,")"])).flat()],s=new SourceNode(null,null,null,i);return s.needsAsync=n.needsAsync||r.some((({rhs:e})=>e.needsAsync)),s},ifBlock(e,t){const{start:r,condition:n}=e,i=get(e.body,t),s=new SourceNode(null,null,null,[asIs(r),"(",get(n,t),")","{",i,"}"]);return s.needsAsync=i.needsAsync,s},elseIfBlock(e,t){const{start:r,condition:n}=e,i=get(e.body,t),s=new SourceNode(null,null,null,[asIs(r)," ",asIs(e.if),"(",get(n,t),")","{",i,"}"]);return s.needsAsync=i.needsAsync,s},elseBlock(e,t){const r=get(e.body,t),n=new SourceNode(null,null,null,[asIs(e.start),"{",r,"}"]);return n.needsAsync=r.needsAsync,n},conditional(e,t){const r=get(e.if,t),n=e.elseIfs.map((e=>get(e,t))),i=new SourceNode(null,null,null,[r,...n]);return i.needsAsync=r.needsAsync||n.some((e=>e.needsAsync)),i},fullConditional(e,t){const r=get(e.if,t),n=e.elseIfs.map((e=>get(e,t))),i=get(e.else,t),s=new SourceNode(null,null,null,[r,...n,i]);return s.needsAsync=r.needsAsync||i.needsAsync||n.some((e=>e.needsAsync)),s},array(e,t){const{start:r,end:n}=e,i=e.items.map((e=>get(e,t))),s=new SourceNode(null,null,null,[asIs(r),new SourceNode(null,null,null,i).join(","),asIs(n)]),o=i.map((e=>e.insertBefore)).filter(Boolean);return o.length&&(s.insertBefore=new SourceNode(null,null,null,o).join(";")),s.needsAsync=i.some((e=>e.needsAsync)),s},keyValue(e,t){const r=get(e.key,t),n=get(e.value,t),i=new SourceNode(null,null,null,[r,":",n]);return i.needsAsync=n.needsAsync,i},string:e=>(e.value=e.value.slice(1,-1).replace(/`/g,"\\`").replace(/\\"/,'"'),e.value="`"+e.value+"`",asIs(e)),hashmap(e,t){const r=e.keyValues.map((e=>get(e,t))),n=new SourceNode(e.start.line,e.start.column,e.start.file,["{",new SourceNode(null,null,null,r).join(","),"}"]);return n.needsAsync=r.some((e=>e.needsAsync)),n},propertyAccess(e,t){const r=get(e.lhs,t),n=get(e.rhs,t),i=new SourceNode(null,null,null,[r,asIs(e.dot),n]);return i.insertBefore=[r.insertBefore,n.insertBefore].filter(Boolean),i.insertBefore=i.insertBefore.length?i.insertBefore:null,i.needsAsync=r.needsAsync||n.needsAsync,i},range(e,t){const r=e.start?get(e.start,t):"0",n=e.end?get(e.end,t):"Infinity",i=e.step?get(e.step,t):"null",{location:s}=e,o=new SourceNode(s.line,s.column,s.file,["range","(",r,",",n,",",i,")"]);return o.needsAsync=e.start?.needsAsync||e.end?.needsAsync||e.step?.needsAsync,o},...map_1(["rangeFull","byRange","rangeBy"],((e,t)=>(e.type="range",get(e,t)))),ranger:(e,t)=>get({type:"range",location:e},t),slice(e,t){const r=get(e.slicer,t),n=get(e.slicee,t),i=new SourceNode(null,null,null,[n,r]);return i.needsAsync=r.needsAsync||n.needsAsync,i},set(e,t){const{start:r}=e,n=e.items.map((e=>get(e,t))),i=new SourceNode(r.line,r.column,r.file,["new"," ","Set","(","[",new SourceNode(null,null,null,n).join(","),"]",")"]);return i.needsAsync=n.some((e=>e.needsAsync)),i},wrapped(e,t){if(!e.content)return new SourceNode(null,null,null,"");e.isFn&&"call"===e.content.type&&e.content.args.map((e=>e.lambda=[]));const r=checkLambda(e.content,e.content,t,!0,!0),n=new SourceNode(null,null,null,[asIs(e.start),r,asIs(e.end)]);return n.insertBefore=r.insertBefore,n.needsAsync=r.needsAsync,n.accepts=r.accepts,n.returns=r.returns,n},assignment(e,t){const r=get(e.name,t),n=get(e.value,t),i=new SourceNode(null,null,null,[..."symbol"===e.name.type?["const"," "]:[],r,asIs(e.assign),n]);return i.insertBefore=n.insertBefore,i.needsAsync=n.needsAsync,i.name=r,"wrapped"===e.value.type&&n.accepts&&(t.scope[r]={returns:n.returns,accepts:n.accepts}),i},typedAssignment(e,t){const r=get(e.assignment,t),n=get(e.valueType,t).toString(),i=t.scope[n];if(!i)throw typeError({source:t.source,file:t.file,line:e.valueType.line,column:e.valueType.column,message:`Identifier ${i} is not defined.`});const s=getTypeOf(e.valueType,t)||"Any";if(!["Type","ListType"].includes(s))throw typeError({source:t.source,file:t.file,line:e.valueType.line,column:e.valueType.column,message:`Identifier ${n} is of type ${s} and cannot be used as a Type.`});const o=getTypeOf(e.assignment.value,t);if("ListType"===s&&"Array"===o){const s=i.accepts[0].id;for(const i of e.assignment.value.items){const e=getTypeOf(i,t)||"Any";if(e!==s){const s=e.split("/").pop();throw typeError({source:t.source,file:t.file,line:i.line,column:i.column,message:`Cannot add item of type ${s} to array ${r.name} of type ${n}`})}}}else if("ListType"===s&&Array.isArray(o)){if(!o.map((e=>e.id)).includes(i.id)){const i=o.map((e=>e.id.split("/").pop())).join(" | ");throw typeError({source:t.source,file:t.file,line:e.assignment.assign.line,column:e.assignment.assign.column,message:`Cannot assign array of type ${i} to identifier ${r.name} of type ${n}`})}}else if(o!==i.id){const n=o?o.split("/").pop():"Any",s=i.id.split("/").pop();throw typeError({source:t.source,file:t.file,line:e.assignment.assign.line,column:e.assignment.assign.column,message:`Cannot assign value of type ${n} to identifier ${r.name} of type ${s}`})}const{rpcPrefix:a,file:l}=t;return t.scope[r.name]={type:i.id,id:[a,l,r.name].join("/")},r},arrowAssignment(e,t){const r=get(e.name,t),n=get(e.value,t),i=new SourceNode(null,null,null,[..."symbol"===e.name.type?["const"," "]:[],r,new SourceNode(e.arrow.line,e.arrow.column,e.arrow.file,"="),n]),s=new SourceNode(null,null,null,[n.insertBefore,i].filter(Boolean)).join(";");return r.insertBefore=s,r.needsAsync=n.needsAsync,r},parameter:e=>new SourceNode(e.line,e.column,e.file,e.value.slice(1)),inCheck:(e,t)=>new SourceNode(e.start.line,e.start.column,e.start.file,["includes(",get(e.lhs,t),",",get(e.rhs,t),")"]),formattedString(e,t){const r=get(e.fn,t),n=new SourceNode(null,null,null,e.args.map((e=>get(e,t))));return new SourceNode(null,null,null,[r,"(",n.join(","),")"])},fmtStr:e=>new SourceNode(e.line,e.column,e.file,["`",e.value,"`"]),fmtExpr:(e,t)=>e.content?get(e.content,t):new SourceNode(null,null,null,"null"),strEscape(e){e.value=e.value.slice(1);const t=asIs(e);return"{}".includes(t.toString())?new SourceNode(null,null,null,["`",asIs(e),"`"]):new SourceNode(null,null,null,["`\\",asIs(e),"`"])},typeDef(e,t){if(e.extends)return e.type="typeDefExtends",get(e,t);for(const r of e.members){const e=get(r.type,t);if(!t.scope[e])throw typeError({source:t.source,file:t.file,line:r.line,column:r.column,message:`Identifier ${e} is not defined.`})}const{line:r,column:n,file:i}=e.start,{rpcPrefix:s}=t,o=get(e.name,t),a=[s,i,o].join("/");return t.scope[o]={type:"Type",id:a,returns:a,accepts:e.members.map((e=>t.scope[get(e.type,t)].id))},new SourceNode(r,n,i,["const ",o,"=class ",o,"{constructor(",new SourceNode(null,null,null,e.members.map((e=>get(e.name,t)))).join(","),"){",...e.members.map((e=>{const r=get(e.name,t);return new SourceNode(null,null,null,["this.",r,"=",r,";"])})),"} static get members(){return ",e.members.length.toString(),"}}"])},typeDefExtends(e,t){for(const r of e.members){const e=get(r.type,t);if(!t.scope[e])throw typeError({source:t.source,file:t.file,line:r.line,column:r.column,message:`Identifier ${e} is not defined.`})}const{line:r,column:n,file:i}=e.start,{rpcPrefix:s}=t,o=get(e.name,t),a=get(e.extends,t);return t.scope[o]={type:"Type",id:[s,i,o].join("/")},new SourceNode(r,n,i,["const ",o,"=class ",o," extends ",a,"{constructor(...$args){","super(...","$args.slice(",e.members.length.toString(),"));","const [",new SourceNode(null,null,null,e.members.map((e=>get(e.name,t)))).join(","),"]=$args;",...e.members.map((e=>{const r=get(e.name,t);return new SourceNode(null,null,null,["this.",r,"=",r,";"])})),"}}"])},listDef(e,t){const{line:r,column:n,file:i}=e.start,{rpcPrefix:s}=t,o=get(e.name,t),a=get(e.memberType,t);if(!t.scope[a])throw typeError({source:t.source,file:t.file,line:a.line,column:a.column,message:`Identifier ${typeName} is not defined.`});const l=[s,i,o].join("/");return t.scope[o]={type:"ListType",id:l,returns:l,accepts:[t.scope[a]]},new SourceNode(r,n,i,["const ",o,"=[",a,"]"])},clio(e,t){const r=e.content.map((e=>get(e,t))),n=r.map((e=>[e.insertBefore,e])).flat().filter(Boolean),i=new SourceNode(null,null,null,n.filter((e=>e.toString().trim().length))).join(";"),s=r.map((e=>e.topLevel)).filter(Boolean),o=new SourceNode(null,null,null,s);return new SourceNode(null,null,null,[...s.length?[o.join(";"),";"]:[],"export default async(clio)=>{const{emitter,range,slice,remote,register,help,describe,returns,check,params,includes,f,Any}=clio;",...i.toString().trim().length?[i,";"]:[],"return clio.exports}"])}},get=(e,t)=>{const r=types[e.type](e,t);return r.node=e,r},strPattern=/^(?:"(?:[^"]|\\")*"|'(?:[^']|\\')*')/,numPattern=/^-?(?:[0-9][\d_]*)(?:\.[\d_]+)?(?:[eE][+-]?[\d_]+)?/,keywordPattern=/^(?:list|type|is|if|else|fn|await|import|as|from|export|and|or|not|by|in)(?=\s|$)|^else(?=:)|^await(?=])/,symbolPattern=/^(?:[a-z_$][0-9a-z_$]*)/i,parameterPattern=/^@(?:[a-z_$][0-9a-z_$]*)/i,commentPattern=/^--.*?(?=\r?\n|$)/,manPattern=/^ *(\r?\n)(fn |export fn )/,awaitAllPattern=/^\[await\]/,whites=["space","lineBreak","indent","outdent","slicer","format"],wraps=["lCurly","lSquare","lParen"],zsIgnore=[...whites,"dot","ranger",...wraps],lex=(e,{file:t,...r},n=1,i=0,s=!1)=>{const o=list_1([]),a=[0];let l=n,c=i,u=0,h=0,p=0;const f=(n,i="",s=i.length)=>{o.push({type:n,value:i,line:l,column:c,file:t,...r}),e=e.slice(s),c+=s},d=()=>{const t=e.match(numPattern);return t&&f("number",t[0]),!!t},m=()=>{if("format"==o.last?.item?.type)return(()=>{if(!e.match(strPattern))return!1;for(f("fmtStart",'"',1);e[0];){const r=e.match(/^("|([^\\{"])+|\\.|{)/);if('"'==r[0]){f("fmtEnd",'"',1);break}if("\\"==r[0][0])f("strEscape",r[0],2);else if("{"==r[0]){let r=0,n="";for(;e[0];){switch(e[0]){case"{":r++;break;case"}":r--}if(n+=e[0],e=e.slice(1),0===r)break}f("fmtExprStart","",0);const i=lex(n.slice(1,-1),t,l,c,!0);i.last?.prev?.prev&&(i.last=i.last.prev.prev,o.last.next=i.first,i.first.prev=o.last,o.last=i.last),f("ender","",0),f("fmtExprEnd","",0)}else f("fmtStr",r[0])}return!0})();const r=e.match(strPattern);return!!r&&(f("string",r[0]),!0)},g=()=>{const t=e.match(commentPattern);if(t){(e=e.slice(t[0].length)).match(manPattern)&&f("comment",t[0],0)}return!!t},y=()=>{if(u||h||p)return;if(e.match(/^ *(?=[\r\n])/))return;if(e.match(/^ *--/))return;const r=e.match(/^ */)[0].length,n=a[0];if(r==n)return;if(!e.match(/^ *([+*\/%=-]|and|or)/)||r<n){if(!o.last.prev?.item?.type?.endsWith?.("Op"))if(r<n){if(-1==a.indexOf(r))throw new LexingError({message:"Inconsistent indentation",line:l,file:t,column:c});for(;a[0]!=r;)a.shift(),f("outdent")}else a.unshift(r),o.last.prev&&(o.last=o.last.prev),f("indent")}else o.last.prev&&(o.last=o.last.prev)},b=()=>{const t=e.match(/ +/);return!!t&&(f("space",t[0]),!0)},w=()=>{const t=e.match(keywordPattern);return t&&f(t[0],t[0]),!!t},_=()=>{const t=e.match(awaitAllPattern);return t&&f("awaitAll",t[0]),!!t},v=()=>{const t=e.match(symbolPattern);return t&&f("symbol",t[0]),!!t},S=()=>{if(s||u||h||p)return!1;const t=e.match(parameterPattern);return t&&f("decorator",t[0]),!!t},E=()=>{const t=e.match(parameterPattern);return t&&f("parameter",t[0]),!!t};for(;e.length;){const r=e[0];switch(r){case"#":f("hash",r,1),e.match(/^ *(?:[a-z_$][0-9a-z_$]*) *: *\r?\n/)&&(a.unshift(a[0]+2),f("indent"));break;case".":"."==e[1]?f("ranger","..",2):f("dot",r,1);break;case"|":f("pike",r,1);break;case"{":f("groupStart","",0),f("lCurly",r,1),h++;break;case"}":if(f("rCurly",r,1),f("groupEnd","",0),h--,h<0)throw new LexingError({message:"Imbalanced curly braces",file:t,line:l,column:c});break;case"[":_()||(f("groupStart","",0),f("lSquare",r,1),u++);break;case"]":if(f("rSquare",r,1),f("groupEnd","",0),u--,u<0)throw new LexingError({message:"Imbalanced square braces",file:t,line:l,column:c});break;case"(":f("groupStart","",0),f("lParen",r,1),p++;break;case")":if(f("ender","",0),f("rParen",r,1),f("groupEnd","",0),p--,p<0)throw new LexingError({message:"Imbalanced parentheses",file:t,line:l,column:c});break;case":":f("colon",r,1);break;case'"':m();break;case"-":">"==e[1]?(f("ender","",0),f("arrow","->",2)):d()||g()||f("subOp",r,1);break;case"+":f("addOp",r,1);break;case">":"="==e[1]?f("gte",">=",2):f("gt",r,1);break;case"<":"="==e[1]?f("lte","<=",2):f("lt",r,1);break;case"=":">"==e[1]?(f("ender","",0),f("fatArrow","=>",2)):"="==e[1]?f("eq","==",2):f("assign",r,1);break;case"/":f("divOp",r,1);break;case"%":f("modOp",r,1);break;case"*":"*"==e[1]?f("powOp","**",2):f("mulOp","*",1);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d();break;case" ":b();break;case"\r":e=e.slice(1),c++;break;case"\n":f("lineBreak","\n",1),l++,c=0,y();break;case"@":S()||E();break;default:if(!w()&&!v())throw new LexingError({message:`Unsupported character ${r}!`,file:t,line:l,column:c})}zsIgnore.includes(o.last?.item?.type)||('"'==e[0]?f("format","",0):"["==e[0]&&f("slicer","",0))}for(;a.shift();)f("lineBreak","",0),f("outdent","",0);f("lineBreak","",0),f("eof","",0);const{current:C}=o;let A=C;for(;A;)"space"==A.item.type?(A.unlink(),A=A.prev||A.next):A=A.next;return o},parse=(e,t)=>bean_1(e,rules,!0,t),defaultScope={Number:{id:"Number",type:"Type"},String:{id:"String",type:"Type"},Array:{id:"Array",type:"Type"},Any:{id:"Any",type:"Type"},Function:{id:"Function",type:"Type"},Type:{id:"Type",type:"Type"},ListType:{id:"ListType",type:"Type"}},compile$1=(e,t,{debug:r=!1,...n})=>{const i={compile:compile$1,compileFile:compileFile,scope:{...defaultScope},source:e,...n},s=lex(e,{file:t});r&&console.dir(s.current,{depth:null});const o=parse(s,i);if(r&&console.dir(o,{depth:null}),"clio"==o.first.item.type){const r=get(o.current.item,i),{code:n,map:s}=r.toStringWithSourceMap();return s.setSourceContent(t,e),{code:n+`//# sourceMappingURL=${t}.js.map`,map:s.toString(),context:i}}throw parsingError(e,t,o)},mkdir=e=>{existsSync(e)||mkdirSync(e,{recursive:!0})},isFileModified=(e,t,r,n)=>{if(!existsSync(t))return!0;if(!existsSync(r))return!0;if(!existsSync(n))return!0;const i=statSync(e,{bigint:!0}).mtimeMs,s=statSync(t,{bigint:!0}).mtimeMs;return[statSync(r,{bigint:!0}).mtimeMs,s,statSync(n,{bigint:!0}).mtimeMs].map((e=>e<=i)).every(Boolean)},compileFile=(e,t,r,n,i,s,o,a,l,c)=>{const u=getDestinationFromConfig(r,t),h=getSourceFromConfig(r,t),p=a?join$1(s,a,u):join$1(s,u),f=o?join$1(s,o,h):join$1(s,h),d=join$1(f,e),m=`${t.title}@${t.version}`,g=`${join$1(p,e)}.js`,y=`${g}.map`,b=join$1(s,l,`${g}.json`);if(!isFileModified(d,g,y,b)){const e=readFileSync(y).toString(),t=readFileSync(g).toString(),{scope:r,imports:o=[]}=JSON.parse(readFileSync(b).toString()),a=[...o];for(;a.length;){const{src:e,dest:t,module:r}=a.pop(),u=r?join$1(s,n,r,"clio.toml"):join$1(s,"clio.toml");c.npmDeps[r]||(c.npmDeps[r]=getParsedNpmDependencies(u)),c.npmDevDeps[r]||(c.npmDevDeps[r]=getParsedNpmDevDependencies(u));const h=`${t}.map`,p=join$1(s,l,`${t}.json`);if(isFileModified(e,t,h,p)){c.configs[r]||(c.configs[r]=getPackageConfig(u));const f=c.configs[r],d=readFileSync(e,"utf8"),m=getDestinationFromConfig(u,f),g=getSourceFromConfig(u,f),y=relative(join$1(dirname(u),g),e),b=`${f.title}@${f.version}`,{code:w,map:_,context:v}=compile$1(d,y,{root:s,file:y,config:f,sourceDir:g,modulesDir:n,modulesDestDir:i,rpcPrefix:b,destFile:t,destination:m,configPath:u,srcPrefix:r?join$1(n,r,g):"src",destPrefix:r?join$1(i,r,m):"dest",cacheDir:l,...c});mkdir(dirname(t)),mkdir(dirname(p)),writeFileSync(p,JSON.stringify({scope:v.scope,imports:v.imports||[]}),"utf8"),writeFileSync(t,w,"utf8"),writeFileSync(h,_,"utf8"),a.push(...o)}else{const{imports:e=[]}=JSON.parse(readFileSync(p).toString());a.push(...e)}}return{npmDeps:c.npmDeps||{},npmDevDeps:c.npmDevDeps||{},code:t,map:e,scope:r,imports:o,destFile:g,srcFile:d}}const w=readFileSync(d,"utf8"),{code:_,map:v,context:S}=compile$1(w,e,{root:s,file:e,config:t,sourceDir:h,modulesDir:n,modulesDestDir:i,rpcPrefix:m,destFile:g,destination:u,configPath:r,srcPrefix:o,destPrefix:a,cacheDir:l,...c});return mkdir(dirname(g)),mkdir(dirname(b)),writeFileSync(b,JSON.stringify({scope:S.scope,imports:S.imports||[]}),"utf8"),writeFileSync(g,_,"utf8"),writeFileSync(y,v,"utf8"),{npmDeps:S.npmDeps||{},npmDevDeps:S.npmDevDeps||{},code:_,map:v,scope:S.scope,imports:S.imports,destFile:g,srcFile:d}},compile=async e=>{try{const{code:t}=compile$1(e,"main.clio",{sourceDir:null,config:{},rpcPrefix:"playground",file:"<Playground>"});return{code:t}}catch(e){return{error:e.message}}};return exports.compile=compile,Object.defineProperty(exports,"__esModule",{value:!0}),exports}({});
//# sourceMappingURL=compile.js.map
